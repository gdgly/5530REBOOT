; generated by Component: ARM Compiler 5.06 update 6 (build 750) Tool: ArmCC [4d3637]
; commandline ArmCC [--list --split_sections --debug -c --asm --interleave -o..\output\key.o --asm_dir=..\Listing\ --list_dir=..\Listing\ --depend=..\output\key.d --cpu=Cortex-M4.fp --apcs=interwork -O1 --diag_suppress=9931,870 -I..\APP -I..\drive -I..\Include -I..\Libraries\CMSIS\inc -I..\Libraries\CMSIS\src -I..\Libraries\FWlib\inc -I..\Libraries\FWlib\src -I..\Listing -I..\Output -I..\Project -I..\STemWinLibrary522\Config -I..\STemWinLibrary522\emWinTask -I..\STemWinLibrary522\GUILib -I..\STemWinLibrary522\inc -I..\User -I..\USB\STM32_USB_HOST_Library\Class\HID\inc -I..\USB\STM32_USB_HOST_Library\Class\MSC\src -I..\USB\STM32_USB_HOST_Library\Core\src -I..\USB\USB_APP -I..\USB\STM32_USB_HOST_Library\Class\HID\src -I..\USB\STM32_USB_HOST_Library\Class\MSC\inc -I..\USB\STM32_USB_HOST_Library\Core\inc -I..\USB\STM32_USB_OTG_Driver\inc -I..\FATFS\exfuns -I..\FATFS\src\option -I..\FATFS\src -I..\MALLOC -I..\Libraries\STM32_USB_OTG_Driver\inc -I..\Libraries\STM32_USB_HOST_Library\Core\inc -I..\Libraries\STM32_USB_HOST_Library\Class\MSC\inc -I..\User\usbh_mass_storage -I..\User\fatfs\src -ID:\Keil_v5\ARM\RV31\INC -ID:\Keil_v5\ARM\CMSIS\Include -ID:\Keil_v5\ARM\INC\ST\STM32F4xx -D__UVISION_VERSION=525 -DUSE_STDPERIPH_DRIVER -DSTM32F40_41xxx -DUSE_USB_OTG_HS -DUSE_EMBEDDED_PHY -DSTM32F40XX --omf_browse=..\output\key.crf --no_multibyte_chars ..\drive\key.c]
                          THUMB

                          AREA ||i.File_IAP||, CODE, READONLY, ALIGN=2

                  File_IAP PROC
;;;258    
;;;259    uint8_t File_IAP(void)
000000  e92d5ff0          PUSH     {r4-r12,lr}
;;;260    {
;;;261      FRESULT res;
;;;262    	static u8 signal;
;;;263    	void (*pUserApp)(void);
;;;264      uint32_t JumpAddress;
;;;265    	u16 i=0;
000004  2400              MOVS     r4,#0
;;;266    	u32 wr_state=0;
;;;267    	static uint32_t fsize;
;;;268        result = f_mount(&fs, "2:", 0);
000006  2200              MOVS     r2,#0
000008  a16a              ADR      r1,|L1.436|
00000a  486b              LDR      r0,|L1.440|
00000c  f7fffffe          BL       f_mount
000010  4d6a              LDR      r5,|L1.444|
000012  7168              STRB     r0,[r5,#5]
;;;269    	if(result!=FR_OK)
000014  2600              MOVS     r6,#0
;;;270    	{
;;;271     //    LCD_ErrLog("f_open->updata.bin->error.\n");
;;;272         goto updateerror;
;;;273       }
;;;274    	result=f_open(&file, "2:UPDATE.BIN",FA_OPEN_EXISTING | FA_READ);
;;;275    	if(result!=FR_OK)
;;;276    	{
;;;277     //    LCD_ErrLog("f_open->updata.bin->error.\n");
;;;278         goto updateerror;
;;;279      }
;;;280    //	LCD_UsrLog("f_open->updata.bin->OK!.\n");
;;;281    	
;;;282    //	LCD_UsrLog("f_read->updata.bin->..ing.\n");
;;;283    	fsize=f_size(&file);//unit byte
;;;284    //	if(fsize>131072)    //128*1024
;;;285    //	{
;;;286    //	 // LCD_ErrLog("This firmware is out of limit\n");   
;;;287    //		while(1)
;;;288    //		{
;;;289    //		            //error
;;;290    //		}
;;;291    //	}
;;;292    	//LCD_UsrLog("fsize:%dKB\n",fsize/1024); //ÒòÎªÖ»²Á³ýÁËÉÈÇø5,ËùÒÔ,¹Ì¼þ²»ÄÜ³¬¹ý128KB
;;;293    	                                      //ÈçÓÐ¸ü´ó¹Ì¼þÐèÇó,Çë²Á³ýÉÈÇøÖÁ¹Ì¼þÆ¥ÅäµÄ´óÐ¡
;;;294     // LCD_UsrLog(">Erase.....ing\n");
;;;295    	if(IAP_Start())
;;;296    	{ 
;;;297    	//  LCD_ErrLog(">Erase......error\n");
;;;298    	  goto updateerror;
;;;299    	}
;;;300    //	LCD_UsrLog(">Erase.........ok\n");
;;;301    	
;;;302    	while(1)
;;;303    	{
;;;304    		do{
;;;305    		 result=f_read(&file,filedatabuf,2048, &readcount);
;;;306         if(result!=FR_OK)
;;;307    		 {
;;;308         //  LCD_UsrLog("f_read->updata.bin->error.\n");
;;;309    			 goto updateerror;
;;;310         }
;;;311    		 if(signal == 0)
;;;312    		 {
;;;313    			 TM1650_SET_LED(0x68,0x70);
;;;314    			 GPIO_ResetBits(GPIOD,GPIO_Pin_12);//ÃðµÆ
;;;315    			 signal = 1;
;;;316    		 }else{
;;;317    			 GPIO_ResetBits(GPIOD,GPIO_Pin_12);
;;;318                    TM1650_SET_LED(0x48,0x71);
;;;319                    TM1650_SET_LED(0x68,0xF2);//PASSµÆ
;;;320    			 signal = 0;
;;;321    		 }
;;;322    		 
;;;323    		 wr_state=IAP_Flash_Write(USER_FLASH_FIRST_PAGE_ADDRESS+i*2048,filedatabuf,readcount/4);
000016  f8df81a8          LDR      r8,|L1.448|
00001a  2800              CMP      r0,#0                 ;269
00001c  d147              BNE      |L1.174|
00001e  2201              MOVS     r2,#1                 ;274
000020  a168              ADR      r1,|L1.452|
000022  486c              LDR      r0,|L1.468|
000024  f7fffffe          BL       f_open
000028  7168              STRB     r0,[r5,#5]            ;274
00002a  bbb8              CBNZ     r0,|L1.156|
00002c  4f69              LDR      r7,|L1.468|
00002e  68f8              LDR      r0,[r7,#0xc]          ;283  ; file
000030  61a8              STR      r0,[r5,#0x18]         ;283  ; fsize
000032  f7fffffe          BL       IAP_Start
000036  bb88              CBNZ     r0,|L1.156|
000038  f8dfb19c          LDR      r11,|L1.472|
00003c  f44f6900          MOV      r9,#0x800             ;305
000040  f44f5a80          MOV      r10,#0x1000           ;314
                  |L1.68|
000044  4b5d              LDR      r3,|L1.444|
000046  464a              MOV      r2,r9                 ;305
000048  331c              ADDS     r3,r3,#0x1c           ;305
00004a  4964              LDR      r1,|L1.476|
00004c  4861              LDR      r0,|L1.468|
00004e  f7fffffe          BL       f_read
000052  7168              STRB     r0,[r5,#5]            ;305
000054  bb10              CBNZ     r0,|L1.156|
000056  7928              LDRB     r0,[r5,#4]            ;311  ; signal
000058  b1a8              CBZ      r0,|L1.134|
00005a  4651              MOV      r1,r10                ;317
00005c  4658              MOV      r0,r11                ;317
00005e  f7fffffe          BL       GPIO_ResetBits
000062  2171              MOVS     r1,#0x71              ;318
000064  2048              MOVS     r0,#0x48              ;318
000066  f7fffffe          BL       TM1650_SET_LED
00006a  21f2              MOVS     r1,#0xf2              ;319
00006c  2068              MOVS     r0,#0x68              ;319
00006e  f7fffffe          BL       TM1650_SET_LED
000072  712e              STRB     r6,[r5,#4]            ;320
                  |L1.116|
000074  69e8              LDR      r0,[r5,#0x1c]  ; readcount
000076  4959              LDR      r1,|L1.476|
000078  0882              LSRS     r2,r0,#2
00007a  eb0820c4          ADD      r0,r8,r4,LSL #11
00007e  f7fffffe          BL       IAP_Flash_Write
;;;324    		 if(0!=wr_state) 
000082  b958              CBNZ     r0,|L1.156|
000084  e00b              B        |L1.158|
                  |L1.134|
000086  2170              MOVS     r1,#0x70              ;313
000088  2068              MOVS     r0,#0x68              ;313
00008a  f7fffffe          BL       TM1650_SET_LED
00008e  4651              MOV      r1,r10                ;314
000090  4658              MOV      r0,r11                ;314
000092  f7fffffe          BL       GPIO_ResetBits
000096  2001              MOVS     r0,#1                 ;315
000098  7128              STRB     r0,[r5,#4]            ;315
00009a  e7eb              B        |L1.116|
                  |L1.156|
00009c  e007              B        |L1.174|
                  |L1.158|
;;;325    		 {
;;;326    			// LCD_UsrLog("Flash.........error\n");
;;;327    			 goto updateerror;
;;;328    		 } 
;;;329    		 i++;
00009e  1c64              ADDS     r4,r4,#1
0000a0  b2a4              UXTH     r4,r4
;;;330    	 }while(f_eof(&file)==0);//µ½´ïÎÄ¼þÄ©Î²
0000a2  e9d70102          LDRD     r0,r1,[r7,#8]
0000a6  4288              CMP      r0,r1
0000a8  d1cc              BNE      |L1.68|
;;;331    
;;;332    	//  LCD_UsrLog("ffok...............%dKB\n",fsize/1024);
;;;333    
;;;334       // LCD_UsrLog("ffok............COMPLETE\n");
;;;335    	 // LCD_UsrLog("Jump to the application...\n");
;;;336    	  Jumpflag = 55;
0000aa  2037              MOVS     r0,#0x37
0000ac  7028              STRB     r0,[r5,#0]
                  |L1.174|
;;;337    //	  I2C_EE_BufferWrite(&Jumpflag, EEP_Firstpage, 1);
;;;338    	  goto updateerror;
;;;339      }
;;;340    
;;;341    	  updateerror:
;;;342    	  __asm("CPSID  I");
0000ae  b672              CPSID    i
;;;343            
;;;344    		JumpAddress = *(volatile uint32_t*) (USER_FLASH_FIRST_PAGE_ADDRESS+4);
0000b0  f8d84004          LDR      r4,[r8,#4]
;;;345    		pUserApp = (void (*)(void)) JumpAddress;
;;;346    		TIM_Cmd(TIM1, DISABLE);	
0000b4  4d4a              LDR      r5,|L1.480|
0000b6  2100              MOVS     r1,#0
0000b8  4628              MOV      r0,r5
0000ba  f7fffffe          BL       TIM_Cmd
;;;347    		TIM_DeInit(TIM1);
0000be  4628              MOV      r0,r5
0000c0  f7fffffe          BL       TIM_DeInit
;;;348    		TIM_ITConfig(TIM1,TIM_IT_Update,DISABLE);
0000c4  2200              MOVS     r2,#0
0000c6  2101              MOVS     r1,#1
0000c8  4628              MOV      r0,r5
0000ca  f7fffffe          BL       TIM_ITConfig
;;;349    		TIM_Cmd(TIM2, DISABLE);	
0000ce  03ad              LSLS     r5,r5,#14
0000d0  2100              MOVS     r1,#0
0000d2  4628              MOV      r0,r5
0000d4  f7fffffe          BL       TIM_Cmd
;;;350    		TIM_DeInit(TIM2);
0000d8  4628              MOV      r0,r5
0000da  f7fffffe          BL       TIM_DeInit
;;;351    		TIM_ITConfig(TIM2,TIM_IT_Update,DISABLE);
0000de  2200              MOVS     r2,#0
0000e0  2101              MOVS     r1,#1
0000e2  4628              MOV      r0,r5
0000e4  f7fffffe          BL       TIM_ITConfig
;;;352    		TIM_Cmd(TIM4,DISABLE);
0000e8  4d3e              LDR      r5,|L1.484|
0000ea  2100              MOVS     r1,#0
0000ec  4628              MOV      r0,r5
0000ee  f7fffffe          BL       TIM_Cmd
;;;353    		TIM_DeInit(TIM4);
0000f2  4628              MOV      r0,r5
0000f4  f7fffffe          BL       TIM_DeInit
;;;354    		TIM_ITConfig(TIM4,TIM_IT_Update,DISABLE);
0000f8  2200              MOVS     r2,#0
0000fa  2101              MOVS     r1,#1
0000fc  4628              MOV      r0,r5
0000fe  f7fffffe          BL       TIM_ITConfig
;;;355    		TIM_Cmd(TIM6, DISABLE);	
000102  4d39              LDR      r5,|L1.488|
000104  2100              MOVS     r1,#0
000106  4628              MOV      r0,r5
000108  f7fffffe          BL       TIM_Cmd
;;;356    	    TIM_DeInit(TIM6);
00010c  4628              MOV      r0,r5
00010e  f7fffffe          BL       TIM_DeInit
;;;357    		TIM_ITConfig(TIM6,TIM_IT_Update,DISABLE);
000112  2200              MOVS     r2,#0
000114  2101              MOVS     r1,#1
000116  4628              MOV      r0,r5
000118  f7fffffe          BL       TIM_ITConfig
;;;358    		USART_DeInit(USART1);
00011c  4f33              LDR      r7,|L1.492|
00011e  4638              MOV      r0,r7
000120  f7fffffe          BL       USART_DeInit
;;;359    		USART_ITConfig(USART1, USART_IT_RXNE, DISABLE);		
000124  f2405525          MOV      r5,#0x525
000128  2200              MOVS     r2,#0
00012a  4629              MOV      r1,r5
00012c  4638              MOV      r0,r7
00012e  f7fffffe          BL       USART_ITConfig
;;;360    		USART_Cmd(USART1,DISABLE);
000132  2100              MOVS     r1,#0
000134  4638              MOV      r0,r7
000136  f7fffffe          BL       USART_Cmd
;;;361    	    USART_DeInit(USART3);
00013a  4f2d              LDR      r7,|L1.496|
00013c  4638              MOV      r0,r7
00013e  f7fffffe          BL       USART_DeInit
;;;362    		USART_ITConfig(USART3, USART_IT_RXNE, DISABLE);		
000142  2200              MOVS     r2,#0
000144  4629              MOV      r1,r5
000146  4638              MOV      r0,r7
000148  f7fffffe          BL       USART_ITConfig
;;;363    		USART_Cmd(USART3,DISABLE);
00014c  2100              MOVS     r1,#0
00014e  4638              MOV      r0,r7
000150  f7fffffe          BL       USART_Cmd
;;;364    		RCC_DeInit();
000154  f7fffffe          BL       RCC_DeInit
;;;365    		RCC_RTCCLKCmd(DISABLE);
000158  2000              MOVS     r0,#0
00015a  f7fffffe          BL       RCC_RTCCLKCmd
;;;366    		EXTI_DeInit();
00015e  f7fffffe          BL       EXTI_DeInit
;;;367    		SysTick->CTRL = 0;
000162  f04f20e0          MOV      r0,#0xe000e000
000166  6106              STR      r6,[r0,#0x10]
;;;368    		RTC_DeInit();
000168  f7fffffe          BL       RTC_DeInit
;;;369    		RTC_ITConfig(RTC_IT_WUT,DISABLE);//¹Ø±ÕWAKE UP ¶¨Ê±Æ÷ÖÐ¶Ï
00016c  2100              MOVS     r1,#0
00016e  1438              ASRS     r0,r7,#16
000170  f7fffffe          BL       RTC_ITConfig
;;;370    		RTC_WakeUpCmd( DISABLE);//¹Ø±ÕWAKE UP ¶¨Ê±Æ÷¡¡
000174  2000              MOVS     r0,#0
000176  f7fffffe          BL       RTC_WakeUpCmd
;;;371    		__disable_irq();
00017a  b672              CPSID    i
;;;372    		NVIC_DisableIRQ(OTG_FS_IRQn);
00017c  2043              MOVS     r0,#0x43
00017e  f7fffffe          BL       NVIC_DisableIRQ
;;;373    		NVIC_DisableIRQ(OTG_FS_WKUP_IRQn);
000182  202a              MOVS     r0,#0x2a
000184  f7fffffe          BL       NVIC_DisableIRQ
;;;374    		NVIC_DisableIRQ(OTG_HS_IRQn);
000188  204d              MOVS     r0,#0x4d
00018a  f7fffffe          BL       NVIC_DisableIRQ
;;;375    		NVIC_DisableIRQ(OTG_HS_WKUP_IRQn);
00018e  204c              MOVS     r0,#0x4c
000190  f7fffffe          BL       NVIC_DisableIRQ
;;;376    		__ASM volatile ("cpsid i");
000194  b672              CPSID    i
;;;377    		/* Initialize user application's Stack Pointer */
;;;378    		__set_PSP(*(volatile uint32_t*) USER_FLASH_FIRST_PAGE_ADDRESS);
000196  f8d80000          LDR      r0,[r8,#0]
00019a  f3808809          MSR      PSP,r0
00019e  f3868814          MSR      CONTROL,r6
;;;379    		__set_CONTROL(0);
;;;380    		__set_MSP(*(volatile uint32_t*) USER_FLASH_FIRST_PAGE_ADDRESS);
0001a2  f8d80000          LDR      r0,[r8,#0]
0001a6  f3808808          MSR      MSP,r0
;;;381    		
;;;382            
;;;383    		
;;;384    //		NVIC_SystemReset();
;;;385    		pUserApp();
0001aa  47a0              BLX      r4
;;;386    		/*************************Jump to User Application area end***************************/
;;;387    	
;;;388        return 0;
0001ac  2000              MOVS     r0,#0
;;;389    
;;;390    }
0001ae  e8bd9ff0          POP      {r4-r12,pc}
;;;391    
                          ENDP

0001b2  0000              DCW      0x0000
                  |L1.436|
0001b4  323a00            DCB      "2:",0
0001b7  00                DCB      0
                  |L1.440|
                          DCD      ||area_number.14||
                  |L1.444|
                          DCD      ||.data||
                  |L1.448|
                          DCD      0x08020000
                  |L1.452|
0001c4  323a5550          DCB      "2:UPDATE.BIN",0
0001c8  44415445
0001cc  2e42494e
0001d0  00      
0001d1  00                DCB      0
0001d2  00                DCB      0
0001d3  00                DCB      0
                  |L1.468|
                          DCD      ||area_number.14||+0x230
                  |L1.472|
                          DCD      0x40020c00
                  |L1.476|
                          DCD      ||area_number.14||+0x458
                  |L1.480|
                          DCD      0x40010000
                  |L1.484|
                          DCD      0x40000800
                  |L1.488|
                          DCD      0x40001000
                  |L1.492|
                          DCD      0x40011000
                  |L1.496|
                          DCD      0x40004800

                          AREA ||i.GetFlashSize||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_percent
                          REQUIRE _printf_d
                          REQUIRE _printf_int_dec
                  GetFlashSize PROC
;;;194    
;;;195    void GetFlashSize(void)
000000  4803              LDR      r0,|L2.16|
;;;196    {
;;;197        static u16 Stm32_Flash_Size;
;;;198        
;;;199        Stm32_Flash_Size = (*(__IO u16*)(0x1FFF7A22));//ÉÁ´æÈÝÁ¿¼Ä´æÆ÷
000002  8801              LDRH     r1,[r0,#0]
000004  4803              LDR      r0,|L2.20|
000006  8141              STRH     r1,[r0,#0xa]
;;;200        
;;;201        printf("Ð¾Æ¬ÉÁ´æÈÝÁ¿´óÐ¡Îª%dK\r\n",Stm32_Flash_Size);
000008  8941              LDRH     r1,[r0,#0xa]  ; Stm32_Flash_Size
00000a  a003              ADR      r0,|L2.24|
00000c  f7ffbffe          B.W      __2printf
;;;202    
;;;203    }
;;;204    
                          ENDP

                  |L2.16|
                          DCD      0x1fff7a22
                  |L2.20|
                          DCD      ||.data||
                  |L2.24|
000018  d0bec6ac          DCB      208,190,198,172,201,193,180,230,200,221,193,191,180,243,208
00001c  c9c1b4e6
000020  c8ddc1bf
000024  b4f3d0  
000027  a1ceaa25          DCB      161,206,170,"%dK\r\n",0
00002b  644b0d0a
00002f  00      

                          AREA ||i.JumpBoot||, CODE, READONLY, ALIGN=2

                  JumpBoot PROC
;;;204    
;;;205    void JumpBoot(u8 flag)
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;206    {
;;;207      	void (*pUserApp)(void);
;;;208      uint32_t JumpAddress;
;;;209    	if(flag==55)
000004  2837              CMP      r0,#0x37
000006  d17d              BNE      |L3.260|
;;;210      {		
;;;211    	__asm("CPSID  I");
000008  b672              CPSID    i
;;;212            
;;;213    		JumpAddress = *(volatile uint32_t*) (USER_FLASH_FIRST_PAGE_ADDRESS+4);
00000a  4c42              LDR      r4,|L3.276|
00000c  6865              LDR      r5,[r4,#4]
;;;214    		pUserApp = (void (*)(void)) JumpAddress;
;;;215    		TIM_Cmd(TIM1, DISABLE);	
00000e  4e42              LDR      r6,|L3.280|
000010  2100              MOVS     r1,#0
000012  4630              MOV      r0,r6
000014  f7fffffe          BL       TIM_Cmd
;;;216    		TIM_DeInit(TIM1);
000018  4630              MOV      r0,r6
00001a  f7fffffe          BL       TIM_DeInit
;;;217    		TIM_ITConfig(TIM1,TIM_IT_Update,DISABLE);
00001e  2200              MOVS     r2,#0
000020  2101              MOVS     r1,#1
000022  4630              MOV      r0,r6
000024  f7fffffe          BL       TIM_ITConfig
;;;218    		TIM_Cmd(TIM2, DISABLE);	
000028  0366              LSLS     r6,r4,#13
00002a  2100              MOVS     r1,#0
00002c  4630              MOV      r0,r6
00002e  f7fffffe          BL       TIM_Cmd
;;;219    		TIM_DeInit(TIM2);
000032  4630              MOV      r0,r6
000034  f7fffffe          BL       TIM_DeInit
;;;220    		TIM_ITConfig(TIM2,TIM_IT_Update,DISABLE);
000038  2200              MOVS     r2,#0
00003a  2101              MOVS     r1,#1
00003c  4630              MOV      r0,r6
00003e  f7fffffe          BL       TIM_ITConfig
;;;221    		TIM_Cmd(TIM4,DISABLE);
000042  4e36              LDR      r6,|L3.284|
000044  2100              MOVS     r1,#0
000046  4630              MOV      r0,r6
000048  f7fffffe          BL       TIM_Cmd
;;;222    		TIM_DeInit(TIM4);
00004c  4630              MOV      r0,r6
00004e  f7fffffe          BL       TIM_DeInit
;;;223    		TIM_ITConfig(TIM4,TIM_IT_Update,DISABLE);
000052  2200              MOVS     r2,#0
000054  2101              MOVS     r1,#1
000056  4630              MOV      r0,r6
000058  f7fffffe          BL       TIM_ITConfig
;;;224    		TIM_Cmd(TIM6, DISABLE);	
00005c  4e30              LDR      r6,|L3.288|
00005e  2100              MOVS     r1,#0
000060  4630              MOV      r0,r6
000062  f7fffffe          BL       TIM_Cmd
;;;225    	    TIM_DeInit(TIM6);
000066  4630              MOV      r0,r6
000068  f7fffffe          BL       TIM_DeInit
;;;226    		TIM_ITConfig(TIM6,TIM_IT_Update,DISABLE);
00006c  2200              MOVS     r2,#0
00006e  2101              MOVS     r1,#1
000070  4630              MOV      r0,r6
000072  f7fffffe          BL       TIM_ITConfig
;;;227    		USART_DeInit(USART1);
000076  4f2b              LDR      r7,|L3.292|
000078  4638              MOV      r0,r7
00007a  f7fffffe          BL       USART_DeInit
;;;228    		USART_ITConfig(USART1, USART_IT_RXNE, DISABLE);		
00007e  f2405625          MOV      r6,#0x525
000082  2200              MOVS     r2,#0
000084  4631              MOV      r1,r6
000086  4638              MOV      r0,r7
000088  f7fffffe          BL       USART_ITConfig
;;;229    		USART_Cmd(USART1,DISABLE);
00008c  2100              MOVS     r1,#0
00008e  4638              MOV      r0,r7
000090  f7fffffe          BL       USART_Cmd
;;;230    	    USART_DeInit(USART3);
000094  4f24              LDR      r7,|L3.296|
000096  4638              MOV      r0,r7
000098  f7fffffe          BL       USART_DeInit
;;;231    		USART_ITConfig(USART3, USART_IT_RXNE, DISABLE);		
00009c  2200              MOVS     r2,#0
00009e  4631              MOV      r1,r6
0000a0  4638              MOV      r0,r7
0000a2  f7fffffe          BL       USART_ITConfig
;;;232    		USART_Cmd(USART3,DISABLE);
0000a6  2100              MOVS     r1,#0
0000a8  4638              MOV      r0,r7
0000aa  f7fffffe          BL       USART_Cmd
;;;233    		RCC_DeInit();
0000ae  f7fffffe          BL       RCC_DeInit
;;;234    		RCC_RTCCLKCmd(DISABLE);
0000b2  2000              MOVS     r0,#0
0000b4  f7fffffe          BL       RCC_RTCCLKCmd
;;;235    		EXTI_DeInit();
0000b8  f7fffffe          BL       EXTI_DeInit
;;;236    		SysTick->CTRL = 0;
0000bc  f04f20e0          MOV      r0,#0xe000e000
0000c0  2600              MOVS     r6,#0
0000c2  6106              STR      r6,[r0,#0x10]
;;;237    		RTC_DeInit();
0000c4  f7fffffe          BL       RTC_DeInit
;;;238    		RTC_ITConfig(RTC_IT_WUT,DISABLE);//¹Ø±ÕWAKE UP ¶¨Ê±Æ÷ÖÐ¶Ï
0000c8  2100              MOVS     r1,#0
0000ca  1438              ASRS     r0,r7,#16
0000cc  f7fffffe          BL       RTC_ITConfig
;;;239    		RTC_WakeUpCmd( DISABLE);//¹Ø±ÕWAKE UP ¶¨Ê±Æ÷¡¡
0000d0  2000              MOVS     r0,#0
0000d2  f7fffffe          BL       RTC_WakeUpCmd
;;;240    		__disable_irq();
0000d6  b672              CPSID    i
;;;241    		NVIC_DisableIRQ(OTG_FS_IRQn);
0000d8  2043              MOVS     r0,#0x43
0000da  f7fffffe          BL       NVIC_DisableIRQ
;;;242    		NVIC_DisableIRQ(OTG_FS_WKUP_IRQn);
0000de  202a              MOVS     r0,#0x2a
0000e0  f7fffffe          BL       NVIC_DisableIRQ
;;;243    		NVIC_DisableIRQ(OTG_HS_IRQn);
0000e4  204d              MOVS     r0,#0x4d
0000e6  f7fffffe          BL       NVIC_DisableIRQ
;;;244    		NVIC_DisableIRQ(OTG_HS_WKUP_IRQn);
0000ea  204c              MOVS     r0,#0x4c
0000ec  f7fffffe          BL       NVIC_DisableIRQ
;;;245    		__ASM volatile ("cpsid i");
0000f0  b672              CPSID    i
;;;246    		/* Initialize user application's Stack Pointer */
;;;247    		__set_PSP(*(volatile uint32_t*) USER_FLASH_FIRST_PAGE_ADDRESS);
0000f2  6820              LDR      r0,[r4,#0]
0000f4  f3808809          MSR      PSP,r0
0000f8  f3868814          MSR      CONTROL,r6
;;;248    		__set_CONTROL(0);
;;;249    		__set_MSP(*(volatile uint32_t*) USER_FLASH_FIRST_PAGE_ADDRESS);
0000fc  6820              LDR      r0,[r4,#0]
0000fe  f3808808          MSR      MSP,r0
;;;250    		
;;;251            
;;;252    		
;;;253    //		NVIC_SystemReset();
;;;254    		pUserApp();
000102  e000              B        |L3.262|
                  |L3.260|
000104  e003              B        |L3.270|
                  |L3.262|
000106  46ac              MOV      r12,r5
000108  e8bd41f0          POP      {r4-r8,lr}
00010c  4760              BX       r12
                  |L3.270|
;;;255    	}
;;;256    }
00010e  e8bd81f0          POP      {r4-r8,pc}
;;;257    
                          ENDP

000112  0000              DCW      0x0000
                  |L3.276|
                          DCD      0x08020000
                  |L3.280|
                          DCD      0x40010000
                  |L3.284|
                          DCD      0x40000800
                  |L3.288|
                          DCD      0x40001000
                  |L3.292|
                          DCD      0x40011000
                  |L3.296|
                          DCD      0x40004800

                          AREA ||i.Key_Funtion||, CODE, READONLY, ALIGN=2

                  Key_Funtion PROC
;;;392    /***************************************************************************************************************************/
;;;393    void Key_Funtion(void)
000000  b5f8              PUSH     {r3-r7,lr}
;;;394    {
;;;395    	vu32 KeyValue = 0;
000002  2400              MOVS     r4,#0
000004  9400              STR      r4,[sp,#0]
;;;396    	static vu8 t_KEYON;
;;;397    	static vu8 a,b;
;;;398    /****************************************************çŸ­æŒ‰åŠŸèƒ½************************************************************/
;;;399    	if(Flag_Key_Scan==1)
000006  4966              LDR      r1,|L4.416|
000008  6808              LDR      r0,[r1,#0]  ; flagA
00000a  0702              LSLS     r2,r0,#28
00000c  d57d              BPL      |L4.266|
;;;400    	{
;;;401    		Flag_Key_Scan = 0;
00000e  f0200008          BIC      r0,r0,#8
000012  6008              STR      r0,[r1,#0]  ; flagA
;;;402    		KeyValue = Key_Scan();
000014  f7fffffe          BL       Key_Scan
000018  9000              STR      r0,[sp,#0]
;;;403    		switch(KeyValue)
00001a  9900              LDR      r1,[sp,#0]
;;;404    		{
;;;405    			case KEY_1 ://
;;;406    			{
;;;407    				SET_Voltage=1000;
00001c  4e61              LDR      r6,|L4.420|
00001e  3944              SUBS     r1,r1,#0x44           ;403
;;;408    				SET_Current=4000;
;;;409    				KeyCounter = 0;
000020  4d61              LDR      r5,|L4.424|
000022  f44f707a          MOV      r0,#0x3e8             ;407
000026  2934              CMP      r1,#0x34              ;403
000028  d26f              BCS      |L4.266|
00002a  e8dff001          TBB      [pc,r1]               ;403
00002e  b45e              DCB      0xb4,0x5e
000030  687d6e6e          DCB      0x68,0x7d,0x6e,0x6e
000034  6e6eaf76          DCB      0x6e,0x6e,0xaf,0x76
000038  1a826e6e          DCB      0x1a,0x82,0x6e,0x6e
00003c  6e6eaa63          DCB      0x6e,0x6e,0xaa,0x63
000040  23316e6e          DCB      0x23,0x31,0x6e,0x6e
000044  6e6ea54f          DCB      0x6e,0x6e,0xa5,0x4f
000048  2c366e6e          DCB      0x2c,0x36,0x6e,0x6e
00004c  6e6e9754          DCB      0x6e,0x6e,0x97,0x54
000050  8d406e6e          DCB      0x8d,0x40,0x6e,0x6e
000054  6e6e9259          DCB      0x6e,0x6e,0x92,0x59
000058  6e456e6e          DCB      0x6e,0x45,0x6e,0x6e
00005c  6e6e6f88          DCB      0x6e,0x6e,0x6f,0x88
000060  3b4a              DCB      0x3b,0x4a
000062  8070              STRH     r0,[r6,#2]            ;407
000064  f44f607a          MOV      r0,#0xfa0             ;408
000068  80b0              STRH     r0,[r6,#4]            ;408
00006a  81ac              STRH     r4,[r5,#0xc]
;;;410    				BEEP_Tiggr();//è§¦å‘èœ‚é¸£å™¨
00006c  e8bd40f8          POP      {r3-r7,lr}
000070  f7ffbffe          B.W      BEEP_Tiggr
;;;411    			}
;;;412    			break;
;;;413    			
;;;414    			case KEY_2 ://
;;;415    			{
;;;416    				SET_Voltage=420;
000074  f44f71d2          MOV      r1,#0x1a4
000078  8071              STRH     r1,[r6,#2]
;;;417    				SET_Current=1000;
00007a  80b0              STRH     r0,[r6,#4]
;;;418    				KeyCounter = 0;
00007c  81ac              STRH     r4,[r5,#0xc]
;;;419    				BEEP_Tiggr();//è§¦å‘èœ‚é¸£å™¨
00007e  e8bd40f8          POP      {r3-r7,lr}
000082  f7ffbffe          B.W      BEEP_Tiggr
;;;420    			}
;;;421    			break;
;;;422    			
;;;423    			case KEY_3 ://
;;;424    			{
;;;425    				KeyCounter = 0;
000086  81ac              STRH     r4,[r5,#0xc]
;;;426    				BEEP_Tiggr();//è§¦å‘èœ‚é¸£å™¨
000088  e8bd40f8          POP      {r3-r7,lr}
00008c  f7ffbffe          B.W      BEEP_Tiggr
;;;427    			}
;;;428    			break;
;;;429    			
;;;430    			case KEY_4 ://
;;;431    			{
;;;432    				KeyCounter = 0;
000090  81ac              STRH     r4,[r5,#0xc]
;;;433    				BEEP_Tiggr();//è§¦å‘èœ‚é¸£å™¨
000092  e8bd40f8          POP      {r3-r7,lr}
000096  f7ffbffe          B.W      BEEP_Tiggr
;;;434    			}
;;;435    			break;
;;;436    			
;;;437    			case KEY_5 ://
;;;438    			{
;;;439    				KeyCounter = 0;
00009a  81ac              STRH     r4,[r5,#0xc]
;;;440    				BEEP_Tiggr();//è§¦å‘èœ‚é¸£å™¨
00009c  e8bd40f8          POP      {r3-r7,lr}
0000a0  f7ffbffe          B.W      BEEP_Tiggr
;;;441    			}
;;;442    			break;	
;;;443    			
;;;444    			case KEY_6 ://
;;;445    			{
;;;446    				KeyCounter = 0;
0000a4  81ac              STRH     r4,[r5,#0xc]
;;;447    				BEEP_Tiggr();//è§¦å‘èœ‚é¸£å™¨
0000a6  e8bd40f8          POP      {r3-r7,lr}
0000aa  f7ffbffe          B.W      BEEP_Tiggr
;;;448    			}
;;;449    			break;
;;;450    			
;;;451    			case KEY_7 ://
;;;452    			{
;;;453    				KeyCounter = 0;
0000ae  81ac              STRH     r4,[r5,#0xc]
;;;454    				BEEP_Tiggr();//è§¦å‘èœ‚é¸£å™¨
0000b0  e8bd40f8          POP      {r3-r7,lr}
0000b4  f7ffbffe          B.W      BEEP_Tiggr
;;;455    			}
;;;456    			break;
;;;457    			
;;;458    			case KEY_8 ://
;;;459    			{
;;;460    				KeyCounter = 0;
0000b8  81ac              STRH     r4,[r5,#0xc]
;;;461    				BEEP_Tiggr();//è§¦å‘èœ‚é¸£å™¨
0000ba  e8bd40f8          POP      {r3-r7,lr}
0000be  f7ffbffe          B.W      BEEP_Tiggr
;;;462    			}
;;;463    			break;
;;;464    			
;;;465    			case KEY_9 ://
;;;466    			{
;;;467    				KeyCounter = 0;
0000c2  81ac              STRH     r4,[r5,#0xc]
;;;468    				BEEP_Tiggr();//è§¦å‘èœ‚é¸£å™¨
0000c4  e8bd40f8          POP      {r3-r7,lr}
0000c8  f7ffbffe          B.W      BEEP_Tiggr
;;;469    			}
;;;470    			break;
;;;471    			
;;;472    			case KEY_0 ://
;;;473    			{
;;;474    				KeyCounter = 0;
0000cc  81ac              STRH     r4,[r5,#0xc]
;;;475    				BEEP_Tiggr();//è§¦å‘èœ‚é¸£å™¨
0000ce  e8bd40f8          POP      {r3-r7,lr}
0000d2  f7ffbffe          B.W      BEEP_Tiggr
;;;476    			}
;;;477    			break;
;;;478    			
;;;479    			case KEY_dian ://
;;;480    			{
;;;481    				KeyCounter = 0;
0000d6  81ac              STRH     r4,[r5,#0xc]
;;;482    				BEEP_Tiggr();//è§¦å‘èœ‚é¸£å™¨
0000d8  e8bd40f8          POP      {r3-r7,lr}
0000dc  f7ffbffe          B.W      BEEP_Tiggr
;;;483    			}
;;;484    			break;
;;;485    			
;;;486    			case KEY_ESC :
;;;487    			{
;;;488    				KeyCounter = 0;
0000e0  81ac              STRH     r4,[r5,#0xc]
;;;489    				BEEP_Tiggr();//è§¦å‘èœ‚é¸£å™¨
0000e2  e8bd40f8          POP      {r3-r7,lr}
0000e6  f7ffbffe          B.W      BEEP_Tiggr
;;;490    			}
;;;491    			break;
;;;492    			
;;;493    			case PUSH_Lift :
;;;494    			{
;;;495    				KeyCounter = 0;
0000ea  81ac              STRH     r4,[r5,#0xc]
;;;496    				BEEP_Tiggr();//è§¦å‘èœ‚é¸£å™¨
0000ec  e8bd40f8          POP      {r3-r7,lr}
0000f0  f7ffbffe          B.W      BEEP_Tiggr
;;;497    			}
;;;498    			break;
;;;499    			case PUSH_Right :
;;;500    			{
;;;501    				KeyCounter = 0;
0000f4  81ac              STRH     r4,[r5,#0xc]
;;;502    				BEEP_Tiggr();//è§¦å‘èœ‚é¸£å™¨
0000f6  e8bd40f8          POP      {r3-r7,lr}
0000fa  f7ffbffe          B.W      BEEP_Tiggr
;;;503    			}
;;;504    			break;
;;;505    			case PUSH_Up :
;;;506    			{
;;;507    				KeyCounter = 0;
0000fe  81ac              STRH     r4,[r5,#0xc]
;;;508    				BEEP_Tiggr();//è§¦å‘èœ‚é¸£å™¨
000100  f7fffffe          BL       BEEP_Tiggr
;;;509    				SET_Current_Laod=SET_Current_Laod+1;
000104  8930              LDRH     r0,[r6,#8]  ; Run_Control
000106  1c40              ADDS     r0,r0,#1
000108  8130              STRH     r0,[r6,#8]
                  |L4.266|
;;;510    			}
;;;511    			break;
;;;512    			case PUSH_Down :
;;;513    			{
;;;514    				KeyCounter = 0;
;;;515    				BEEP_Tiggr();//è§¦å‘èœ‚é¸£å™¨
;;;516    				SET_Current_Laod=SET_Current_Laod-1;
;;;517    			}
;;;518    			break;
;;;519    			
;;;520    			case ENTER ://
;;;521    			{
;;;522    				File_IAP();
;;;523    				KeyCounter = 0;
;;;524    				BEEP_Tiggr();//è§¦å‘èœ‚é¸£å™¨
;;;525    			}
;;;526    			break;
;;;527    			case PUSH_DISP :
;;;528    			{
;;;529    				
;;;530    				KeyCounter = 0;
;;;531    				BEEP_Tiggr();//è§¦å‘èœ‚é¸£å™¨
;;;532    			}
;;;533    			break;
;;;534    			case PUSH_SETUP :
;;;535    			{
;;;536    				KeyCounter = 0;
;;;537    				BEEP_Tiggr();//è§¦å‘èœ‚é¸£å™¨
;;;538    
;;;539    				t_onoff = 1;
;;;540    			}
;;;541    			break;
;;;542    			case KEY_TRIG:
;;;543    			{
;;;544    //				t_onoff++;
;;;545    //				if(t_onoff>1)
;;;546    //				{
;;;547    //					t_onoff=0;
;;;548    //				}
;;;549    //				if(t_onoff==0)
;;;550    //				{
;;;551    //					Flag_Swtich_ON=0;
;;;552    //					GPIO_SetBits(GPIOC,GPIO_Pin_1);//OFF
;;;553    //					
;;;554    //				}
;;;555    //				else if(t_onoff==1)
;;;556    //				{
;;;557    //					Flag_Swtich_ON=1;
;;;558    //					GPIO_ResetBits(GPIOC,GPIO_Pin_1);//On
;;;559    //				}
;;;560    				KeyCounter = 0;
;;;561    				BEEP_Tiggr();//è§¦å‘èœ‚é¸£å™¨
;;;562    			}
;;;563    			break;
;;;564    			case KEY_Reset:
;;;565    			{
;;;566    //				static vu8 POW_t;
;;;567    //				POW_t++;
;;;568    //				if(POW_t>1)
;;;569    //				{
;;;570    //					POW_t=0;
;;;571    //				}
;;;572    //				if(POW_t==0)
;;;573    //				{
;;;574    //					GPIO_ResetBits(GPIOB,GPIO_Pin_13);//å…³é—­ç¨³åŽ‹ç”µæºè¾“å‡º
;;;575    //				}
;;;576    //				else if(POW_t==1)
;;;577    //				{
;;;578    //					GPIO_SetBits(GPIOB,GPIO_Pin_13);//æ‰“å¼€ç¨³åŽ‹ç”µæºè¾“å‡º
;;;579    //				}
;;;580    				KeyCounter = 0;
;;;581    				BEEP_Tiggr();//è§¦å‘èœ‚é¸£å™¨
;;;582    			}
;;;583    			break;
;;;584    			case KEY_Powe :
;;;585    			{
;;;586    				
;;;587    				KeyCounter = 0;
;;;588    				BEEP_Tiggr();//è§¦å‘èœ‚é¸£å™¨
;;;589    			}
;;;590    			break;
;;;591    			case KEY_Face1 :
;;;592    			{
;;;593    //				WM_DeleteWindow(hWinWind);
;;;594    				WM_DeleteWindow(hWinR);
;;;595    				CreateR();
;;;596    				Mode_SW_CONT(0x01);//è¿›å…¥å†…é˜»æµ‹è¯•æ¨¡å¼
;;;597    				KeyCounter = 0;
;;;598    				BEEP_Tiggr();//è§¦å‘èœ‚é¸£å™¨
;;;599    			}
;;;600    			break;
;;;601    			case KEY_Face2 :
;;;602    			{
;;;603    //				WM_DeleteWindow(hWinR);
;;;604    //				WM_DeleteWindow(hWinWind);
;;;605    //				CreateWindow2();
;;;606    //				Mode_SW_CONT(0x02);//è¿›å…¥è´Ÿè½½æ¨¡å¼
;;;607    				KeyCounter = 0;
;;;608    				BEEP_Tiggr();//è§¦å‘èœ‚é¸£å™¨
;;;609    			}
;;;610    			break;
;;;611    			case KEY_Face3 :
;;;612    			{
;;;613    //				WM_DeleteWindow(hWinR);
;;;614    //				WM_DeleteWindow(hWinWind);
;;;615    //				CreateWindow();
;;;616    //				Mode_SW_CONT(0x03);//è¿›å…¥ç”µæºæ¨¡å¼
;;;617    				KeyCounter = 0;
;;;618    				BEEP_Tiggr();//è§¦å‘èœ‚é¸£å™¨
;;;619    			}
;;;620    			break;
;;;621    			case KEY_Face4 :
;;;622    			{
;;;623    				KeyCounter = 0;
;;;624    				BEEP_Tiggr();//è§¦å‘èœ‚é¸£å™¨
;;;625    			}
;;;626    			break;
;;;627    			case KEY_Face5 :
;;;628    			{
;;;629    				KeyCounter = 0;
;;;630    				BEEP_Tiggr();//è§¦å‘èœ‚é¸£å™¨
;;;631    			}
;;;632    			break;
;;;633    			
;;;634    			default:
;;;635    			break;
;;;636    		}	
;;;637    	}
;;;638    }
00010a  bdf8              POP      {r3-r7,pc}
00010c  81ac              STRH     r4,[r5,#0xc]          ;514
00010e  f7fffffe          BL       BEEP_Tiggr
000112  8930              LDRH     r0,[r6,#8]            ;516  ; Run_Control
000114  1e40              SUBS     r0,r0,#1              ;516
000116  8130              STRH     r0,[r6,#8]            ;516
000118  bdf8              POP      {r3-r7,pc}
00011a  f7fffffe          BL       File_IAP
00011e  81ac              STRH     r4,[r5,#0xc]          ;523
000120  e8bd40f8          POP      {r3-r7,lr}            ;524
000124  f7ffbffe          B.W      BEEP_Tiggr
000128  81ac              STRH     r4,[r5,#0xc]          ;530
00012a  e8bd40f8          POP      {r3-r7,lr}            ;531
00012e  f7ffbffe          B.W      BEEP_Tiggr
000132  81ac              STRH     r4,[r5,#0xc]          ;536
000134  f7fffffe          BL       BEEP_Tiggr
000138  2001              MOVS     r0,#1                 ;539
00013a  7228              STRB     r0,[r5,#8]            ;539
00013c  bdf8              POP      {r3-r7,pc}
00013e  81ac              STRH     r4,[r5,#0xc]          ;560
000140  e8bd40f8          POP      {r3-r7,lr}            ;561
000144  f7ffbffe          B.W      BEEP_Tiggr
000148  81ac              STRH     r4,[r5,#0xc]          ;580
00014a  e8bd40f8          POP      {r3-r7,lr}            ;581
00014e  f7ffbffe          B.W      BEEP_Tiggr
000152  81ac              STRH     r4,[r5,#0xc]          ;587
000154  e8bd40f8          POP      {r3-r7,lr}            ;588
000158  f7ffbffe          B.W      BEEP_Tiggr
00015c  4813              LDR      r0,|L4.428|
00015e  6800              LDR      r0,[r0,#0]            ;594  ; hWinR
000160  f7fffffe          BL       WM_DeleteWindow
000164  f7fffffe          BL       CreateR
000168  2001              MOVS     r0,#1                 ;596
00016a  f7fffffe          BL       Mode_SW_CONT
00016e  81ac              STRH     r4,[r5,#0xc]          ;597
000170  e8bd40f8          POP      {r3-r7,lr}            ;598
000174  f7ffbffe          B.W      BEEP_Tiggr
000178  81ac              STRH     r4,[r5,#0xc]          ;607
00017a  e8bd40f8          POP      {r3-r7,lr}            ;608
00017e  f7ffbffe          B.W      BEEP_Tiggr
000182  81ac              STRH     r4,[r5,#0xc]          ;617
000184  e8bd40f8          POP      {r3-r7,lr}            ;618
000188  f7ffbffe          B.W      BEEP_Tiggr
00018c  81ac              STRH     r4,[r5,#0xc]          ;623
00018e  e8bd40f8          POP      {r3-r7,lr}            ;624
000192  f7ffbffe          B.W      BEEP_Tiggr
000196  81ac              STRH     r4,[r5,#0xc]          ;629
000198  e8bd40f8          POP      {r3-r7,lr}            ;630
00019c  f7ffbffe          B.W      BEEP_Tiggr
;;;639    /***************************************************************************************************************************/
                          ENDP

                  |L4.416|
                          DCD      flagA
                  |L4.420|
                          DCD      Run_Control
                  |L4.424|
                          DCD      ||.data||
                  |L4.428|
                          DCD      hWinR

                          AREA ||i.Key_Scan||, CODE, READONLY, ALIGN=2

                  Key_Scan PROC
;;;138    /************************************************************************************************************************/
;;;139    vu32 Key_Scan(void)
000000  b538              PUSH     {r3-r5,lr}
;;;140    {
;;;141    	static vu8 KeyState = KEY_INIT_STATE;
;;;142    	static vu8 IsKeyRelease = 1;
;;;143    
;;;144    	static vu8 KeyValueTemp = 0;
;;;145    	vu8 KeyValue ;
;;;146    	KeyValue= KEY_NULL_VALUE;
000002  2100              MOVS     r1,#0
000004  9100              STR      r1,[sp,#0]
;;;147    	
;;;148    	if((NewKey>0x37)&&(IsKeyRelease==1))
000006  4a24              LDR      r2,|L5.152|
000008  7995              LDRB     r5,[r2,#6]  ; NewKey
;;;149    	{
;;;150    		if(KeyState == KEY_INIT_STATE)                    /*ÎÞ°´¼ü°´ÏÂ*/
;;;151    		{
;;;152    			KeyState = KEY_WOBBLE_STATE;
;;;153    			return KEY_NULL_VALUE;
;;;154    		}
;;;155    		else if(KeyState == KEY_WOBBLE_STATE)                /* Ïû¶¶ */
;;;156    		{
;;;157    			KeyState = KEY_PRESS_STATE;
;;;158    			return KEY_NULL_VALUE;
;;;159    		}
;;;160    		else if(KeyState == KEY_PRESS_STATE)                /* ÓÐ°´¼ü°´ÏÂ£¬·µ»Ø°´¼üÖµ */
;;;161    		{
;;;162    			KeyValue = NewKey;
;;;163    			KeyValueTemp = KeyValue;
;;;164    			KeyState = KEY_CONTINUE_STATE;
;;;165    			return KeyValue;
;;;166    		}
;;;167    		else if(KeyState == KEY_CONTINUE_STATE)           /*Ë«»÷°´¼ü*/
;;;168    		{
;;;169    			KeyCounter ++;
;;;170    			if(KeyCounter == KEY_CONTINUE_PERIOD)
;;;171    			{
;;;172    				 KeyCounter = 0;
;;;173    				 KeyState = KEY_LONG_STATE;
;;;174    			}
;;;175    		}
;;;176    		else if(KeyState == KEY_LONG_STATE)                        /* ³¤°´°´¼ü */
;;;177    		{
;;;178    			KeyCounter ++;
;;;179    			if(KeyCounter == KEY_LONG_PERIOD)
;;;180    			{
;;;181    				KeyCounter = 0;
;;;182    				Flag_Long=1; //³¤°´´¥·¢±êÖ¾Î»
00000a  4b24              LDR      r3,|L5.156|
00000c  2401              MOVS     r4,#1                 ;152
00000e  2d37              CMP      r5,#0x37              ;148
000010  6818              LDR      r0,[r3,#0]            ;148
000012  d902              BLS      |L5.26|
000014  7895              LDRB     r5,[r2,#2]            ;148  ; IsKeyRelease
000016  2d01              CMP      r5,#1                 ;148
000018  d009              BEQ      |L5.46|
                  |L5.26|
;;;183    			}
;;;184    		}
;;;185    	}
;;;186    	else if(NewKey<=0x37)
00001a  7995              LDRB     r5,[r2,#6]  ; NewKey
00001c  2d37              CMP      r5,#0x37
00001e  d804              BHI      |L5.42|
;;;187    	{
;;;188    		KeyState = KEY_INIT_STATE;        /* Îó´¥·¢£¬·µ»Øµ½³õÊ¼×´Ì¬ */
000020  7051              STRB     r1,[r2,#1]
;;;189    		IsKeyRelease = 1;
000022  7094              STRB     r4,[r2,#2]
;;;190    		Flag_Long=0;
000024  f0200004          BIC      r0,r0,#4
000028  6018              STR      r0,[r3,#0]  ; flagB
                  |L5.42|
;;;191    	}
;;;192    	return KEY_NULL_VALUE;
00002a  2000              MOVS     r0,#0
;;;193    }
00002c  bd38              POP      {r3-r5,pc}
                  |L5.46|
00002e  7855              LDRB     r5,[r2,#1]            ;150  ; KeyState
000030  b1b5              CBZ      r5,|L5.96|
000032  7854              LDRB     r4,[r2,#1]            ;155  ; KeyState
000034  2c01              CMP      r4,#1                 ;155
000036  d016              BEQ      |L5.102|
000038  7854              LDRB     r4,[r2,#1]            ;160  ; KeyState
00003a  2c02              CMP      r4,#2                 ;160
00003c  d017              BEQ      |L5.110|
00003e  7854              LDRB     r4,[r2,#1]            ;167  ; KeyState
000040  2c04              CMP      r4,#4                 ;167
000042  d01e              BEQ      |L5.130|
000044  7854              LDRB     r4,[r2,#1]            ;176  ; KeyState
000046  2c03              CMP      r4,#3                 ;176
000048  d1ef              BNE      |L5.42|
00004a  8994              LDRH     r4,[r2,#0xc]          ;178  ; KeyCounter
00004c  1c64              ADDS     r4,r4,#1              ;178
00004e  8194              STRH     r4,[r2,#0xc]          ;178
000050  8994              LDRH     r4,[r2,#0xc]          ;179  ; KeyCounter
000052  2c32              CMP      r4,#0x32              ;179
000054  d1e9              BNE      |L5.42|
000056  8191              STRH     r1,[r2,#0xc]          ;181
000058  f0400004          ORR      r0,r0,#4              ;182
00005c  6018              STR      r0,[r3,#0]            ;182  ; flagB
00005e  e7e4              B        |L5.42|
                  |L5.96|
000060  7054              STRB     r4,[r2,#1]            ;152
000062  2000              MOVS     r0,#0                 ;153
000064  bd38              POP      {r3-r5,pc}
                  |L5.102|
000066  2002              MOVS     r0,#2                 ;157
000068  7050              STRB     r0,[r2,#1]            ;157
00006a  2000              MOVS     r0,#0                 ;158
00006c  bd38              POP      {r3-r5,pc}
                  |L5.110|
00006e  7990              LDRB     r0,[r2,#6]            ;162  ; NewKey
000070  9000              STR      r0,[sp,#0]            ;162
000072  f89d0000          LDRB     r0,[sp,#0]            ;163
000076  70d0              STRB     r0,[r2,#3]            ;163
000078  2004              MOVS     r0,#4                 ;164
00007a  7050              STRB     r0,[r2,#1]            ;164
00007c  f89d0000          LDRB     r0,[sp,#0]            ;165
000080  bd38              POP      {r3-r5,pc}
                  |L5.130|
000082  8990              LDRH     r0,[r2,#0xc]          ;169  ; KeyCounter
000084  1c40              ADDS     r0,r0,#1              ;169
000086  8190              STRH     r0,[r2,#0xc]          ;169
000088  8990              LDRH     r0,[r2,#0xc]          ;170  ; KeyCounter
00008a  280a              CMP      r0,#0xa               ;170
00008c  d1cd              BNE      |L5.42|
00008e  8191              STRH     r1,[r2,#0xc]          ;172
000090  2003              MOVS     r0,#3                 ;173
000092  7050              STRB     r0,[r2,#1]            ;173
000094  e7c9              B        |L5.42|
;;;194    
                          ENDP

000096  0000              DCW      0x0000
                  |L5.152|
                          DCD      ||.data||
                  |L5.156|
                          DCD      flagB

                          AREA ||i.Lift_Move||, CODE, READONLY, ALIGN=2

                  Lift_Move PROC
;;;639    /***************************************************************************************************************************/
;;;640    void Lift_Move(void)
000000  4a1e              LDR      r2,|L6.124|
;;;641    {
;;;642    	t_wei++;
000002  79d0              LDRB     r0,[r2,#7]  ; t_wei
000004  1c40              ADDS     r0,r0,#1
000006  71d0              STRB     r0,[r2,#7]
;;;643    	if(t_wei>3)
000008  79d0              LDRB     r0,[r2,#7]  ; t_wei
00000a  2803              CMP      r0,#3
00000c  d901              BLS      |L6.18|
;;;644    	{
;;;645    		t_wei=0;
00000e  2000              MOVS     r0,#0
000010  71d0              STRB     r0,[r2,#7]
                  |L6.18|
;;;646    	}
;;;647    	if(t_wei==0)
000012  79d3              LDRB     r3,[r2,#7]  ; t_wei
;;;648    	{
;;;649    		Flag_QIAN=1;
000014  491a              LDR      r1,|L6.128|
000016  6808              LDR      r0,[r1,#0]            ;647
000018  b193              CBZ      r3,|L6.64|
;;;650    		Flag_GE=0;
;;;651    		Flag_SHI=0;
;;;652    		Flag_BAI=0;
;;;653    	}
;;;654    	else if(t_wei==1)
00001a  79d3              LDRB     r3,[r2,#7]  ; t_wei
00001c  2b01              CMP      r3,#1
00001e  d019              BEQ      |L6.84|
;;;655    	{
;;;656    		Flag_GE=1;
;;;657    		Flag_QIAN=0;
;;;658    		Flag_SHI=0;
;;;659    		Flag_BAI=0;
;;;660    	}
;;;661    	else if(t_wei==2)
000020  79d3              LDRB     r3,[r2,#7]  ; t_wei
000022  2b02              CMP      r3,#2
000024  d020              BEQ      |L6.104|
;;;662    	{
;;;663    		Flag_SHI=1;
;;;664    		Flag_QIAN=0;
;;;665    		Flag_GE=0;
;;;666    		Flag_BAI=0;
;;;667    	}
;;;668    	else if(t_wei==3)
000026  79d2              LDRB     r2,[r2,#7]  ; t_wei
000028  2a03              CMP      r2,#3
00002a  d108              BNE      |L6.62|
;;;669    	{
;;;670    		Flag_BAI=1;
00002c  f0400004          ORR      r0,r0,#4
;;;671    		Flag_QIAN=0;
000030  f0200008          BIC      r0,r0,#8
;;;672    		Flag_GE=0;
000034  f0200001          BIC      r0,r0,#1
;;;673    		Flag_SHI=0;
000038  f0200002          BIC      r0,r0,#2
00003c  6008              STR      r0,[r1,#0]  ; flagC
                  |L6.62|
;;;674    	}
;;;675    }
00003e  4770              BX       lr
                  |L6.64|
000040  f0400008          ORR      r0,r0,#8              ;649
000044  f0200001          BIC      r0,r0,#1              ;650
000048  f0200002          BIC      r0,r0,#2              ;651
00004c  f0200004          BIC      r0,r0,#4              ;652
000050  6008              STR      r0,[r1,#0]            ;652  ; flagC
000052  4770              BX       lr
                  |L6.84|
000054  f0400001          ORR      r0,r0,#1              ;656
000058  f0200008          BIC      r0,r0,#8              ;657
00005c  f0200002          BIC      r0,r0,#2              ;658
000060  f0200004          BIC      r0,r0,#4              ;659
000064  6008              STR      r0,[r1,#0]            ;659  ; flagC
000066  4770              BX       lr
                  |L6.104|
000068  f0400002          ORR      r0,r0,#2              ;663
00006c  f0200008          BIC      r0,r0,#8              ;664
000070  f0200001          BIC      r0,r0,#1              ;665
000074  f0200004          BIC      r0,r0,#4              ;666
000078  6008              STR      r0,[r1,#0]            ;666  ; flagC
00007a  4770              BX       lr
;;;676    /***********************************************************************************************************************/
                          ENDP

                  |L6.124|
                          DCD      ||.data||
                  |L6.128|
                          DCD      flagC

                          AREA ||i.Mode_SW_CONT||, CODE, READONLY, ALIGN=2

                  Mode_SW_CONT PROC
;;;1199   /********************************************************************************/
;;;1200   void Mode_SW_CONT(vu8 mode)//Ä£Ê½ÇÐ»»¿ØÖÆ
000000  b531              PUSH     {r0,r4,r5,lr}
;;;1201   {
;;;1202   	switch(mode)
000002  f89d1000          LDRB     r1,[sp,#0]
;;;1203   	{
;;;1204   		case 0x01 ://ÄÚ×è²âÊÔÄ£Ê½
;;;1205   		{
;;;1206   			GPIO_ResetBits(GPIOE,GPIO_Pin_2);
000006  4c13              LDR      r4,|L7.84|
000008  2901              CMP      r1,#1                 ;1202
00000a  d00d              BEQ      |L7.40|
00000c  2902              CMP      r1,#2                 ;1202
00000e  d015              BEQ      |L7.60|
000010  2903              CMP      r1,#3                 ;1202
000012  d11d              BNE      |L7.80|
;;;1207   			GPIO_ResetBits(GPIOE,GPIO_Pin_3);
;;;1208   		}
;;;1209   		break;
;;;1210   		case 0x02 ://¸ºÔØÄ£Ê½
;;;1211   		{
;;;1212   			GPIO_SetBits(GPIOE,GPIO_Pin_2);
;;;1213   			GPIO_ResetBits(GPIOE,GPIO_Pin_3);
;;;1214   		}
;;;1215   		break;
;;;1216   		case 0x03 ://Ö±Á÷µçÔ´Ä£Ê½
;;;1217   		{
;;;1218   			GPIO_ResetBits(GPIOE,GPIO_Pin_2);//
000014  2104              MOVS     r1,#4
000016  4620              MOV      r0,r4
000018  f7fffffe          BL       GPIO_ResetBits
;;;1219   			GPIO_SetBits(GPIOE,GPIO_Pin_3);//
00001c  4620              MOV      r0,r4
00001e  e8bd4038          POP      {r3-r5,lr}
000022  2108              MOVS     r1,#8
000024  f7ffbffe          B.W      GPIO_SetBits
                  |L7.40|
000028  2104              MOVS     r1,#4                 ;1206
00002a  4620              MOV      r0,r4                 ;1206
00002c  f7fffffe          BL       GPIO_ResetBits
000030  4620              MOV      r0,r4                 ;1207
000032  e8bd4038          POP      {r3-r5,lr}            ;1207
000036  2108              MOVS     r1,#8                 ;1207
000038  f7ffbffe          B.W      GPIO_ResetBits
                  |L7.60|
00003c  2104              MOVS     r1,#4                 ;1212
00003e  4620              MOV      r0,r4                 ;1212
000040  f7fffffe          BL       GPIO_SetBits
000044  4620              MOV      r0,r4                 ;1213
000046  e8bd4038          POP      {r3-r5,lr}            ;1213
00004a  2108              MOVS     r1,#8                 ;1213
00004c  f7ffbffe          B.W      GPIO_ResetBits
                  |L7.80|
;;;1220   		}
;;;1221   		break;
;;;1222   		default:
;;;1223   		break;
;;;1224   	}
;;;1225   }
000050  bd38              POP      {r3-r5,pc}
                          ENDP

000052  0000              DCW      0x0000
                  |L7.84|
                          DCD      0x40021000

                          AREA ||i.NVIC_DisableIRQ||, CODE, READONLY, ALIGN=1

                  NVIC_DisableIRQ PROC
;;;1479    */
;;;1480   __STATIC_INLINE void NVIC_DisableIRQ(IRQn_Type IRQn)
000000  f000021f          AND      r2,r0,#0x1f
;;;1481   {
;;;1482     NVIC->ICER[((uint32_t)(IRQn) >> 5)] = (1 << ((uint32_t)(IRQn) & 0x1F)); /* disable interrupt */
000004  2101              MOVS     r1,#1
000006  4091              LSLS     r1,r1,r2
000008  0940              LSRS     r0,r0,#5
00000a  0080              LSLS     r0,r0,#2
00000c  f10020e0          ADD      r0,r0,#0xe000e000
000010  f8c01180          STR      r1,[r0,#0x180]
;;;1483   }
000014  4770              BX       lr
;;;1484   
                          ENDP


                          AREA ||i.Right_Move||, CODE, READONLY, ALIGN=2

                  Right_Move PROC
;;;676    /***********************************************************************************************************************/
;;;677    void Right_Move(void)
000000  4a21              LDR      r2,|L9.136|
;;;678    {
;;;679    	t_wei--;
000002  79d0              LDRB     r0,[r2,#7]  ; t_wei
000004  1e40              SUBS     r0,r0,#1
000006  71d0              STRB     r0,[r2,#7]
;;;680    	Flag_DisSet=1;//¿ªÆôÉèÖÃÖµÏÔÊ¾
000008  4820              LDR      r0,|L9.140|
00000a  6801              LDR      r1,[r0,#0]  ; flagB
00000c  f0410180          ORR      r1,r1,#0x80
000010  6001              STR      r1,[r0,#0]  ; flagB
;;;681    	if(t_wei>3)
000012  79d0              LDRB     r0,[r2,#7]  ; t_wei
000014  2803              CMP      r0,#3
000016  d901              BLS      |L9.28|
;;;682    	{
;;;683    		t_wei=3;
000018  2003              MOVS     r0,#3
00001a  71d0              STRB     r0,[r2,#7]
                  |L9.28|
;;;684    	}
;;;685    	if(t_wei==0)
00001c  79d3              LDRB     r3,[r2,#7]  ; t_wei
;;;686    	{
;;;687    		Flag_QIAN=1;
00001e  491c              LDR      r1,|L9.144|
000020  6808              LDR      r0,[r1,#0]            ;685
000022  b193              CBZ      r3,|L9.74|
;;;688    		Flag_GE=0;
;;;689    		Flag_SHI=0;
;;;690    		Flag_BAI=0;
;;;691    	}
;;;692    	else if(t_wei==1)
000024  79d3              LDRB     r3,[r2,#7]  ; t_wei
000026  2b01              CMP      r3,#1
000028  d019              BEQ      |L9.94|
;;;693    	{
;;;694    		Flag_GE=1;
;;;695    		Flag_QIAN=0;
;;;696    		Flag_SHI=0;
;;;697    		Flag_BAI=0;
;;;698    	}
;;;699    	else if(t_wei==2)
00002a  79d3              LDRB     r3,[r2,#7]  ; t_wei
00002c  2b02              CMP      r3,#2
00002e  d020              BEQ      |L9.114|
;;;700    	{
;;;701    		Flag_SHI=1;
;;;702    		Flag_QIAN=0;
;;;703    		Flag_GE=0;
;;;704    		Flag_BAI=0;
;;;705    	}
;;;706    	else if(t_wei==3)
000030  79d2              LDRB     r2,[r2,#7]  ; t_wei
000032  2a03              CMP      r2,#3
000034  d108              BNE      |L9.72|
;;;707    	{
;;;708    		Flag_BAI=1;
000036  f0400004          ORR      r0,r0,#4
;;;709    		Flag_QIAN=0;
00003a  f0200008          BIC      r0,r0,#8
;;;710    		Flag_GE=0;
00003e  f0200001          BIC      r0,r0,#1
;;;711    		Flag_SHI=0;
000042  f0200002          BIC      r0,r0,#2
000046  6008              STR      r0,[r1,#0]  ; flagC
                  |L9.72|
;;;712    	}
;;;713    }
000048  4770              BX       lr
                  |L9.74|
00004a  f0400008          ORR      r0,r0,#8              ;687
00004e  f0200001          BIC      r0,r0,#1              ;688
000052  f0200002          BIC      r0,r0,#2              ;689
000056  f0200004          BIC      r0,r0,#4              ;690
00005a  6008              STR      r0,[r1,#0]            ;690  ; flagC
00005c  4770              BX       lr
                  |L9.94|
00005e  f0400001          ORR      r0,r0,#1              ;694
000062  f0200008          BIC      r0,r0,#8              ;695
000066  f0200002          BIC      r0,r0,#2              ;696
00006a  f0200004          BIC      r0,r0,#4              ;697
00006e  6008              STR      r0,[r1,#0]            ;697  ; flagC
000070  4770              BX       lr
                  |L9.114|
000072  f0400002          ORR      r0,r0,#2              ;701
000076  f0200008          BIC      r0,r0,#8              ;702
00007a  f0200001          BIC      r0,r0,#1              ;703
00007e  f0200004          BIC      r0,r0,#4              ;704
000082  6008              STR      r0,[r1,#0]            ;704  ; flagC
000084  4770              BX       lr
;;;714    /*************************************************************************************************************************/
                          ENDP

000086  0000              DCW      0x0000
                  |L9.136|
                          DCD      ||.data||
                  |L9.140|
                          DCD      flagB
                  |L9.144|
                          DCD      flagC

                          AREA ||i.Setvalue_Add||, CODE, READONLY, ALIGN=2

                  Setvalue_Add PROC
;;;714    /*************************************************************************************************************************/
;;;715    void Setvalue_Add(void)//ÉèÖÃµçÑ¹ºÍµçÁ÷µÝÔö
000000  e92d43f0          PUSH     {r4-r9,lr}
;;;716    {
;;;717    	/********µçÑ¹ÉèÖÃ*********************/
;;;718    	if(Flag_GE==1&&Flag_SetV==1)
000004  48c1              LDR      r0,|L10.780|
000006  49c2              LDR      r1,|L10.784|
;;;719    	{
;;;720    		SET_Voltage++;
000008  4fc2              LDR      r7,|L10.788|
00000a  6804              LDR      r4,[r0,#0]            ;718  ; flagC
00000c  6809              LDR      r1,[r1,#0]            ;718
00000e  07e2              LSLS     r2,r4,#31             ;718
;;;721    		if(SET_Voltage>MAX_VOL)
000010  f44f6048          MOV      r0,#0xc80
000014  d009              BEQ      |L10.42|
000016  064a              LSLS     r2,r1,#25             ;718
000018  d507              BPL      |L10.42|
00001a  887a              LDRH     r2,[r7,#2]            ;720  ; Run_Control
00001c  1c52              ADDS     r2,r2,#1              ;720
00001e  807a              STRH     r2,[r7,#2]            ;720
000020  887a              LDRH     r2,[r7,#2]  ; Run_Control
000022  4282              CMP      r2,r0
000024  d928              BLS      |L10.120|
;;;722    		{
;;;723    			SET_Voltage=MAX_VOL;
000026  8078              STRH     r0,[r7,#2]
000028  e026              B        |L10.120|
                  |L10.42|
;;;724    		}
;;;725    	}
;;;726    	else if(Flag_SHI==1&&Flag_SetV==1)
00002a  07a2              LSLS     r2,r4,#30
00002c  d509              BPL      |L10.66|
00002e  064a              LSLS     r2,r1,#25
000030  d507              BPL      |L10.66|
;;;727    	{
;;;728    		SET_Voltage=SET_Voltage+10;
000032  887a              LDRH     r2,[r7,#2]  ; Run_Control
000034  320a              ADDS     r2,r2,#0xa
000036  807a              STRH     r2,[r7,#2]
;;;729    		if(SET_Voltage>MAX_VOL)
000038  887a              LDRH     r2,[r7,#2]  ; Run_Control
00003a  4282              CMP      r2,r0
00003c  d91c              BLS      |L10.120|
;;;730    		{
;;;731    			SET_Voltage=MAX_VOL;//Èç¹ûÊýÖµ´óÓÚ3000±¾´ÎµÝÔöÎÞÐ§
00003e  8078              STRH     r0,[r7,#2]
000040  e01a              B        |L10.120|
                  |L10.66|
;;;732    		}
;;;733    	}
;;;734    	else if(Flag_BAI==1&&Flag_SetV==1)
000042  0762              LSLS     r2,r4,#29
000044  d509              BPL      |L10.90|
000046  064a              LSLS     r2,r1,#25
000048  d507              BPL      |L10.90|
;;;735    	{
;;;736    		SET_Voltage=SET_Voltage+100;
00004a  887a              LDRH     r2,[r7,#2]  ; Run_Control
00004c  3264              ADDS     r2,r2,#0x64
00004e  807a              STRH     r2,[r7,#2]
;;;737    		if(SET_Voltage>MAX_VOL)
000050  887a              LDRH     r2,[r7,#2]  ; Run_Control
000052  4282              CMP      r2,r0
000054  d910              BLS      |L10.120|
;;;738    		{
;;;739    			SET_Voltage=MAX_VOL;//Èç¹ûÊýÖµ´óÓÚ3000±¾´ÎµÝÔöÎÞÐ§
000056  8078              STRH     r0,[r7,#2]
000058  e00e              B        |L10.120|
                  |L10.90|
;;;740    		}
;;;741    	}
;;;742    	else if(Flag_QIAN==1&&Flag_SetV==1)
00005a  0722              LSLS     r2,r4,#28
00005c  d50c              BPL      |L10.120|
00005e  064a              LSLS     r2,r1,#25
000060  d50a              BPL      |L10.120|
;;;743    	{
;;;744    		SET_Voltage=SET_Voltage+1000;
000062  887a              LDRH     r2,[r7,#2]  ; Run_Control
000064  f502727a          ADD      r2,r2,#0x3e8
000068  807a              STRH     r2,[r7,#2]
;;;745    		if(SET_Voltage>MAX_VOL)
00006a  887a              LDRH     r2,[r7,#2]  ; Run_Control
00006c  4282              CMP      r2,r0
00006e  d903              BLS      |L10.120|
;;;746    		{
;;;747    			SET_Voltage=SET_Voltage-1000;//Èç¹ûÊýÖµ´óÓÚ3000±¾´ÎµÝÔöÎÞÐ§
000070  8878              LDRH     r0,[r7,#2]  ; Run_Control
000072  f5a0707a          SUB      r0,r0,#0x3e8
000076  8078              STRH     r0,[r7,#2]
                  |L10.120|
;;;748    		}
;;;749    	}
;;;750    /**********µçÁ÷ÉèÖÃ*******************/
;;;751    	if(Flag_GE==1&&Flag_SetA==1)
;;;752    	{
;;;753    		if(flag_Test_Min==1)//ÉèÖÃÏÂÏÞÖµ
;;;754    		{
;;;755    			MIN_limit++;
;;;756    			if( MIN_limit>MAX_CUR)
;;;757    			{
;;;758    				 MIN_limit=MAX_CUR;
;;;759    			}
;;;760    		}
;;;761    		else if(flag_Test_MAX==1)//ÉèÖÃÉÏÏÞÖµ
;;;762    		{
;;;763    			MAX_limit++;
;;;764    			if( MAX_limit>MAX_CUR)
;;;765    			{
;;;766    				 MAX_limit=MAX_CUR;
;;;767    			}
;;;768    		}
;;;769    		else if(flag_Test_SetTime==1)//ÉèÖÃ²âÊÔÊ±¼ä
;;;770    		{
;;;771    			Test_Daley++;
;;;772    			if( Test_Daley>9999)
;;;773    			{
;;;774    				Test_Daley=9999;
;;;775    			}
;;;776    		}
;;;777    		else if(flag_Test_Door==1)//ÉèÖÃÃÅ¼÷µçÁ÷
;;;778    		{
;;;779    			Test_C_Door++;
;;;780    			if(Test_C_Door>MAX_CUR)
;;;781    			{
;;;782    				Test_C_Door=MAX_CUR;
;;;783    			}
;;;784    		}
;;;785    		else if(flag_ADJ_ON==1)//½øÈëÐ£×¼Ä£Ê½
000078  48a7              LDR      r0,|L10.792|
00007a  4aa8              LDR      r2,|L10.796|
00007c  4ba8              LDR      r3,|L10.800|
00007e  6806              LDR      r6,[r0,#0]            ;756
000080  6812              LDR      r2,[r2,#0]            ;753
000082  681b              LDR      r3,[r3,#0]            ;769
000084  4da7              LDR      r5,|L10.804|
;;;786    		{
;;;787    			ADJ_Write++;
000086  f8dfc2a0          LDR      r12,|L10.808|
00008a  ea5f79c4          LSLS     r9,r4,#31             ;751
00008e  f242780f          MOV      r8,#0x270f            ;772
000092  f24130ec          MOV      r0,#0x13ec            ;756
000096  d042              BEQ      |L10.286|
000098  ea5f6981          LSLS     r9,r1,#26             ;751
00009c  d53f              BPL      |L10.286|
00009e  0651              LSLS     r1,r2,#25             ;753
0000a0  d508              BPL      |L10.180|
0000a2  8a29              LDRH     r1,[r5,#0x10]         ;755  ; MIN_limit
0000a4  1c49              ADDS     r1,r1,#1              ;755
0000a6  8229              STRH     r1,[r5,#0x10]         ;755
0000a8  8a29              LDRH     r1,[r5,#0x10]         ;756  ; MIN_limit
0000aa  4281              CMP      r1,r0                 ;756
0000ac  d900              BLS      |L10.176|
0000ae  8228              STRH     r0,[r5,#0x10]         ;758
                  |L10.176|
;;;788    			if(ADJ_Write>MAX_CUR)
;;;789    			{
;;;790    				ADJ_Write=MAX_CUR;
;;;791    			}
;;;792    		}
;;;793    		else
;;;794    		{
;;;795    			SET_Current++;
;;;796    			if(SET_Current>MAX_CUR)
;;;797    			{
;;;798    				SET_Current=MAX_CUR;
;;;799    			}
;;;800    		}
;;;801    	}
;;;802    	else if(Flag_SHI==1&&Flag_SetA==1)
;;;803    	{
;;;804    		if(flag_Test_Min==1)//ÉèÖÃÏÂÏÞÖµ
;;;805    		{
;;;806    			MIN_limit=MIN_limit+10;
;;;807    			if( MIN_limit>MAX_CUR)
;;;808    			{
;;;809    				 MIN_limit=MIN_limit-10;
;;;810    			}
;;;811    		}
;;;812    		else if(flag_Test_MAX==1)//ÉèÖÃÉÏÏÞÖµ
;;;813    		{
;;;814    			MAX_limit=MAX_limit+10;
;;;815    			if( MAX_limit>MAX_CUR)
;;;816    			{
;;;817    				 MAX_limit=MAX_limit-10;
;;;818    			}
;;;819    		}
;;;820    		else if(flag_Test_SetTime==1)//ÉèÖÃ²âÊÔÊ±¼ä
;;;821    		{
;;;822    			Test_Daley=Test_Daley+10;
;;;823    			if( Test_Daley>9999)
;;;824    			{
;;;825    				Test_Daley=Test_Daley-10;
;;;826    			}
;;;827    		}
;;;828    		else if(flag_Test_Door==1)//ÉèÖÃÃÅ¼÷µçÁ÷
;;;829    		{
;;;830    			Test_C_Door=Test_C_Door+10;
;;;831    			if(Test_C_Door>MAX_CUR)
;;;832    			{
;;;833    				Test_C_Door=Test_C_Door-10;
;;;834    			}
;;;835    		}
;;;836    		else if(flag_ADJ_ON==1)//½øÈëÐ£×¼Ä£Ê½
;;;837    		{
;;;838    			ADJ_Write=ADJ_Write+10;
;;;839    			if(ADJ_Write>MAX_CUR)
;;;840    			{
;;;841    				ADJ_Write=MAX_CUR;//Èç¹ûÊýÖµ´óÓÚ5000±¾´ÎµÝÔöÎÞÐ§
;;;842    			}
;;;843    		}
;;;844    		else
;;;845    		{
;;;846    			SET_Current=SET_Current+10;
;;;847    			if(SET_Current>MAX_CUR)
;;;848    			{
;;;849    				SET_Current=MAX_CUR;//Èç¹ûÊýÖµ´óÓÚ5000±¾´ÎµÝÔöÎÞÐ§
;;;850    			}
;;;851    		}
;;;852    	}
;;;853    	else if(Flag_BAI==1&&Flag_SetA==1)
;;;854    	{
;;;855    		if(flag_Test_Min==1)//ÉèÖÃÏÂÏÞÖµ
;;;856    		{
;;;857    			MIN_limit=MIN_limit+100;
;;;858    			if( MIN_limit>MAX_CUR)
;;;859    			{
;;;860    				 MIN_limit=MIN_limit-100;
;;;861    			}
;;;862    		}
;;;863    		else if(flag_Test_MAX==1)//ÉèÖÃÉÏÏÞÖµ
;;;864    		{
;;;865    			MAX_limit=MAX_limit+100;
;;;866    			if( MAX_limit>MAX_CUR)
;;;867    			{
;;;868    				 MAX_limit=MAX_limit-100;
;;;869    			}
;;;870    		}
;;;871    		else if(flag_Test_SetTime==1)//ÉèÖÃ²âÊÔÊ±¼ä
;;;872    		{
;;;873    			Test_Daley=Test_Daley+100;
;;;874    			if( Test_Daley>9999)
;;;875    			{
;;;876    				Test_Daley=Test_Daley-100;
;;;877    			}
;;;878    		}
;;;879    		else if(flag_Test_Door==1)//ÉèÖÃÃÅ¼÷µçÁ÷
;;;880    		{
;;;881    			Test_C_Door=Test_C_Door+100;
;;;882    			if(Test_C_Door>MAX_CUR)
;;;883    			{
;;;884    				Test_C_Door=Test_C_Door-100;
;;;885    			}
;;;886    		}
;;;887    		else if(flag_ADJ_ON==1)//½øÈëÐ£×¼Ä£Ê½
;;;888    		{
;;;889    			ADJ_Write=ADJ_Write+100;
;;;890    			if(ADJ_Write>MAX_CUR)
;;;891    			{
;;;892    				ADJ_Write=ADJ_Write-100;
;;;893    			}
;;;894    		}
;;;895    		else
;;;896    		{
;;;897    			SET_Current=SET_Current+100;
;;;898    			if(SET_Current>MAX_CUR)
;;;899    			{
;;;900    				SET_Current=MAX_CUR;//Èç¹ûÊýÖµ´óÓÚ5000±¾´ÎµÝÔöÎÞÐ§
;;;901    			}
;;;902    		}
;;;903    	}
;;;904    	else if(Flag_QIAN==1&&Flag_SetA==1)
;;;905    	{
;;;906    		if(flag_Test_Min==1)//ÉèÖÃÏÂÏÞÖµ
;;;907    		{
;;;908    			MIN_limit=MIN_limit+1000;
;;;909    			if( MIN_limit>MAX_CUR)
;;;910    			{
;;;911    				 MIN_limit=MIN_limit-1000;
;;;912    			}
;;;913    		}
;;;914    		else if(flag_Test_MAX==1)//ÉèÖÃÉÏÏÞÖµ
;;;915    		{
;;;916    			MAX_limit=MAX_limit+1000;
;;;917    			if( MAX_limit>MAX_CUR)
;;;918    			{
;;;919    				 MAX_limit=MAX_limit-1000;
;;;920    			}
;;;921    		}
;;;922    		else if(flag_Test_SetTime==1)//ÉèÖÃ²âÊÔÊ±¼ä
;;;923    		{
;;;924    			Test_Daley=Test_Daley+1000;
;;;925    			if( Test_Daley>9999)
;;;926    			{
;;;927    				Test_Daley=Test_Daley-1000;
;;;928    			}
;;;929    		}
;;;930    		else if(flag_Test_Door==1)//ÉèÖÃÃÅ¼÷µçÁ÷
;;;931    		{
;;;932    			Test_C_Door=Test_C_Door+1000;
;;;933    			if(Test_C_Door>MAX_CUR)
;;;934    			{
;;;935    				Test_C_Door=Test_C_Door-1000;
;;;936    			}
;;;937    		}
;;;938    		else if(flag_ADJ_ON==1)//½øÈëÐ£×¼Ä£Ê½
;;;939    		{
;;;940    			ADJ_Write=ADJ_Write+1000;
;;;941    			if(ADJ_Write>MAX_CUR)
;;;942    			{
;;;943    				ADJ_Write=ADJ_Write-1000;//Èç¹ûÊýÖµ´óÓÚ5000±¾´ÎµÝÔöÎÞÐ§
;;;944    			}
;;;945    		}
;;;946    		else
;;;947    		{
;;;948    			SET_Current=SET_Current+1000;
;;;949    			if(SET_Current>MAX_CUR)
;;;950    			{
;;;951    				SET_Current=SET_Current-1000;//Èç¹ûÊýÖµ´óÓÚ5000±¾´ÎµÝÔöÎÞÐ§
;;;952    			}
;;;953    		}
;;;954    	}
;;;955    }
0000b0  e8bd83f0          POP      {r4-r9,pc}
                  |L10.180|
0000b4  0611              LSLS     r1,r2,#24             ;761
0000b6  d507              BPL      |L10.200|
0000b8  89e9              LDRH     r1,[r5,#0xe]          ;763  ; MAX_limit
0000ba  1c49              ADDS     r1,r1,#1              ;763
0000bc  81e9              STRH     r1,[r5,#0xe]          ;763
0000be  89e9              LDRH     r1,[r5,#0xe]          ;764  ; MAX_limit
0000c0  4281              CMP      r1,r0                 ;764
0000c2  d9f5              BLS      |L10.176|
0000c4  81e8              STRH     r0,[r5,#0xe]          ;766
                  |L10.198|
0000c6  e7f3              B        |L10.176|
                  |L10.200|
0000c8  0799              LSLS     r1,r3,#30             ;769
0000ca  d508              BPL      |L10.222|
0000cc  8a68              LDRH     r0,[r5,#0x12]         ;771  ; Test_Daley
0000ce  1c40              ADDS     r0,r0,#1              ;771
0000d0  8268              STRH     r0,[r5,#0x12]         ;771
0000d2  8a68              LDRH     r0,[r5,#0x12]         ;772  ; Test_Daley
0000d4  4540              CMP      r0,r8                 ;772
0000d6  d9eb              BLS      |L10.176|
0000d8  f8a58012          STRH     r8,[r5,#0x12]         ;774
                  |L10.220|
0000dc  e7e8              B        |L10.176|
                  |L10.222|
0000de  07d9              LSLS     r1,r3,#31             ;777
0000e0  d007              BEQ      |L10.242|
0000e2  8aa9              LDRH     r1,[r5,#0x14]         ;779  ; Test_C_Door
0000e4  1c49              ADDS     r1,r1,#1              ;779
0000e6  82a9              STRH     r1,[r5,#0x14]         ;779
0000e8  8aa9              LDRH     r1,[r5,#0x14]         ;780  ; Test_C_Door
0000ea  4281              CMP      r1,r0                 ;780
0000ec  d9e0              BLS      |L10.176|
0000ee  82a8              STRH     r0,[r5,#0x14]         ;782
0000f0  e7de              B        |L10.176|
                  |L10.242|
0000f2  07b1              LSLS     r1,r6,#30             ;785
0000f4  d50b              BPL      |L10.270|
0000f6  f8bc1000          LDRH     r1,[r12,#0]           ;787  ; ADJ_Write
0000fa  1c49              ADDS     r1,r1,#1              ;787
0000fc  f8ac1000          STRH     r1,[r12,#0]           ;787
000100  f8bc1000          LDRH     r1,[r12,#0]           ;788  ; ADJ_Write
000104  4281              CMP      r1,r0                 ;788
000106  d9d3              BLS      |L10.176|
000108  f8ac0000          STRH     r0,[r12,#0]           ;790
                  |L10.268|
00010c  e7d0              B        |L10.176|
                  |L10.270|
00010e  88b9              LDRH     r1,[r7,#4]            ;795  ; Run_Control
000110  1c49              ADDS     r1,r1,#1              ;795
000112  80b9              STRH     r1,[r7,#4]            ;795
000114  88b9              LDRH     r1,[r7,#4]            ;796  ; Run_Control
000116  4281              CMP      r1,r0                 ;796
000118  d9ca              BLS      |L10.176|
00011a  80b8              STRH     r0,[r7,#4]            ;798
00011c  e7c8              B        |L10.176|
                  |L10.286|
00011e  ea5f7984          LSLS     r9,r4,#30             ;802
000122  d548              BPL      |L10.438|
000124  ea5f6981          LSLS     r9,r1,#26             ;802
000128  d545              BPL      |L10.438|
00012a  0651              LSLS     r1,r2,#25             ;804
00012c  d509              BPL      |L10.322|
00012e  8a29              LDRH     r1,[r5,#0x10]         ;806  ; MIN_limit
000130  310a              ADDS     r1,r1,#0xa            ;806
000132  8229              STRH     r1,[r5,#0x10]         ;806
000134  8a29              LDRH     r1,[r5,#0x10]         ;807  ; MIN_limit
000136  4281              CMP      r1,r0                 ;807
000138  d9ba              BLS      |L10.176|
00013a  8a28              LDRH     r0,[r5,#0x10]         ;809  ; MIN_limit
00013c  380a              SUBS     r0,r0,#0xa            ;809
00013e  8228              STRH     r0,[r5,#0x10]         ;809
                  |L10.320|
000140  e7b6              B        |L10.176|
                  |L10.322|
000142  0611              LSLS     r1,r2,#24             ;812
000144  d509              BPL      |L10.346|
000146  89e9              LDRH     r1,[r5,#0xe]          ;814  ; MAX_limit
000148  310a              ADDS     r1,r1,#0xa            ;814
00014a  81e9              STRH     r1,[r5,#0xe]          ;814
00014c  89e9              LDRH     r1,[r5,#0xe]          ;815  ; MAX_limit
00014e  4281              CMP      r1,r0                 ;815
000150  d9ae              BLS      |L10.176|
000152  89e8              LDRH     r0,[r5,#0xe]          ;817  ; MAX_limit
000154  380a              SUBS     r0,r0,#0xa            ;817
000156  81e8              STRH     r0,[r5,#0xe]          ;817
                  |L10.344|
000158  e7aa              B        |L10.176|
                  |L10.346|
00015a  0799              LSLS     r1,r3,#30             ;820
00015c  d509              BPL      |L10.370|
00015e  8a68              LDRH     r0,[r5,#0x12]         ;822  ; Test_Daley
000160  300a              ADDS     r0,r0,#0xa            ;822
000162  8268              STRH     r0,[r5,#0x12]         ;822
000164  8a68              LDRH     r0,[r5,#0x12]         ;823  ; Test_Daley
000166  4540              CMP      r0,r8                 ;823
000168  d9a2              BLS      |L10.176|
00016a  8a68              LDRH     r0,[r5,#0x12]         ;825  ; Test_Daley
00016c  380a              SUBS     r0,r0,#0xa            ;825
00016e  8268              STRH     r0,[r5,#0x12]         ;825
                  |L10.368|
000170  e79e              B        |L10.176|
                  |L10.370|
000172  07d9              LSLS     r1,r3,#31             ;828
000174  d009              BEQ      |L10.394|
000176  8aa9              LDRH     r1,[r5,#0x14]         ;830  ; Test_C_Door
000178  310a              ADDS     r1,r1,#0xa            ;830
00017a  82a9              STRH     r1,[r5,#0x14]         ;830
00017c  8aa9              LDRH     r1,[r5,#0x14]         ;831  ; Test_C_Door
00017e  4281              CMP      r1,r0                 ;831
000180  d996              BLS      |L10.176|
000182  8aa8              LDRH     r0,[r5,#0x14]         ;833  ; Test_C_Door
000184  380a              SUBS     r0,r0,#0xa            ;833
000186  82a8              STRH     r0,[r5,#0x14]         ;833
                  |L10.392|
000188  e792              B        |L10.176|
                  |L10.394|
00018a  07b1              LSLS     r1,r6,#30             ;836
00018c  d50b              BPL      |L10.422|
00018e  f8bc1000          LDRH     r1,[r12,#0]           ;838  ; ADJ_Write
000192  310a              ADDS     r1,r1,#0xa            ;838
000194  f8ac1000          STRH     r1,[r12,#0]           ;838
000198  f8bc1000          LDRH     r1,[r12,#0]           ;839  ; ADJ_Write
00019c  4281              CMP      r1,r0                 ;839
00019e  d987              BLS      |L10.176|
0001a0  f8ac0000          STRH     r0,[r12,#0]           ;841
                  |L10.420|
0001a4  e784              B        |L10.176|
                  |L10.422|
0001a6  88b9              LDRH     r1,[r7,#4]            ;846  ; Run_Control
0001a8  310a              ADDS     r1,r1,#0xa            ;846
0001aa  80b9              STRH     r1,[r7,#4]            ;846
0001ac  88b9              LDRH     r1,[r7,#4]            ;847  ; Run_Control
0001ae  4281              CMP      r1,r0                 ;847
0001b0  d989              BLS      |L10.198|
0001b2  80b8              STRH     r0,[r7,#4]            ;849
                  |L10.436|
0001b4  e77c              B        |L10.176|
                  |L10.438|
0001b6  ea5f7944          LSLS     r9,r4,#29             ;853
0001ba  d54b              BPL      |L10.596|
0001bc  ea5f6981          LSLS     r9,r1,#26             ;853
0001c0  d548              BPL      |L10.596|
0001c2  0651              LSLS     r1,r2,#25             ;855
0001c4  d509              BPL      |L10.474|
0001c6  8a29              LDRH     r1,[r5,#0x10]         ;857  ; MIN_limit
0001c8  3164              ADDS     r1,r1,#0x64           ;857
0001ca  8229              STRH     r1,[r5,#0x10]         ;857
0001cc  8a29              LDRH     r1,[r5,#0x10]         ;858  ; MIN_limit
0001ce  4281              CMP      r1,r0                 ;858
0001d0  d984              BLS      |L10.220|
0001d2  8a28              LDRH     r0,[r5,#0x10]         ;860  ; MIN_limit
0001d4  3864              SUBS     r0,r0,#0x64           ;860
0001d6  8228              STRH     r0,[r5,#0x10]         ;860
                  |L10.472|
0001d8  e76a              B        |L10.176|
                  |L10.474|
0001da  0611              LSLS     r1,r2,#24             ;863
0001dc  d509              BPL      |L10.498|
0001de  89e9              LDRH     r1,[r5,#0xe]          ;865  ; MAX_limit
0001e0  3164              ADDS     r1,r1,#0x64           ;865
0001e2  81e9              STRH     r1,[r5,#0xe]          ;865
0001e4  89e9              LDRH     r1,[r5,#0xe]          ;866  ; MAX_limit
0001e6  4281              CMP      r1,r0                 ;866
0001e8  d990              BLS      |L10.268|
0001ea  89e8              LDRH     r0,[r5,#0xe]          ;868  ; MAX_limit
0001ec  3864              SUBS     r0,r0,#0x64           ;868
0001ee  81e8              STRH     r0,[r5,#0xe]          ;868
                  |L10.496|
0001f0  e75e              B        |L10.176|
                  |L10.498|
0001f2  0799              LSLS     r1,r3,#30             ;871
0001f4  d509              BPL      |L10.522|
0001f6  8a68              LDRH     r0,[r5,#0x12]         ;873  ; Test_Daley
0001f8  3064              ADDS     r0,r0,#0x64           ;873
0001fa  8268              STRH     r0,[r5,#0x12]         ;873
0001fc  8a68              LDRH     r0,[r5,#0x12]         ;874  ; Test_Daley
0001fe  4540              CMP      r0,r8                 ;874
000200  d984              BLS      |L10.268|
000202  8a68              LDRH     r0,[r5,#0x12]         ;876  ; Test_Daley
000204  3864              SUBS     r0,r0,#0x64           ;876
000206  8268              STRH     r0,[r5,#0x12]         ;876
000208  e752              B        |L10.176|
                  |L10.522|
00020a  07d9              LSLS     r1,r3,#31             ;879
00020c  d009              BEQ      |L10.546|
00020e  8aa9              LDRH     r1,[r5,#0x14]         ;881  ; Test_C_Door
000210  3164              ADDS     r1,r1,#0x64           ;881
000212  82a9              STRH     r1,[r5,#0x14]         ;881
000214  8aa9              LDRH     r1,[r5,#0x14]         ;882  ; Test_C_Door
000216  4281              CMP      r1,r0                 ;882
000218  d992              BLS      |L10.320|
00021a  8aa8              LDRH     r0,[r5,#0x14]         ;884  ; Test_C_Door
00021c  3864              SUBS     r0,r0,#0x64           ;884
00021e  82a8              STRH     r0,[r5,#0x14]         ;884
                  |L10.544|
000220  e746              B        |L10.176|
                  |L10.546|
000222  07b1              LSLS     r1,r6,#30             ;887
000224  d50e              BPL      |L10.580|
000226  f8bc1000          LDRH     r1,[r12,#0]           ;889  ; ADJ_Write
00022a  3164              ADDS     r1,r1,#0x64           ;889
00022c  f8ac1000          STRH     r1,[r12,#0]           ;889
000230  f8bc1000          LDRH     r1,[r12,#0]           ;890  ; ADJ_Write
000234  4281              CMP      r1,r0                 ;890
000236  d98f              BLS      |L10.344|
000238  f8bc0000          LDRH     r0,[r12,#0]           ;892  ; ADJ_Write
00023c  3864              SUBS     r0,r0,#0x64           ;892
00023e  f8ac0000          STRH     r0,[r12,#0]           ;892
000242  e735              B        |L10.176|
                  |L10.580|
000244  88b9              LDRH     r1,[r7,#4]            ;897  ; Run_Control
000246  3164              ADDS     r1,r1,#0x64           ;897
000248  80b9              STRH     r1,[r7,#4]            ;897
00024a  88b9              LDRH     r1,[r7,#4]            ;898  ; Run_Control
00024c  4281              CMP      r1,r0                 ;898
00024e  d98f              BLS      |L10.368|
000250  80b8              STRH     r0,[r7,#4]            ;900
000252  e72d              B        |L10.176|
                  |L10.596|
000254  0724              LSLS     r4,r4,#28             ;904
000256  d58b              BPL      |L10.368|
000258  0689              LSLS     r1,r1,#26             ;904
00025a  d589              BPL      |L10.368|
00025c  0651              LSLS     r1,r2,#25             ;906
00025e  d50b              BPL      |L10.632|
000260  8a29              LDRH     r1,[r5,#0x10]         ;908  ; MIN_limit
000262  f501717a          ADD      r1,r1,#0x3e8          ;908
000266  8229              STRH     r1,[r5,#0x10]         ;908
000268  8a29              LDRH     r1,[r5,#0x10]         ;909  ; MIN_limit
00026a  4281              CMP      r1,r0                 ;909
00026c  d98c              BLS      |L10.392|
00026e  8a28              LDRH     r0,[r5,#0x10]         ;911  ; MIN_limit
000270  f5a0707a          SUB      r0,r0,#0x3e8          ;911
000274  8228              STRH     r0,[r5,#0x10]         ;911
000276  e71b              B        |L10.176|
                  |L10.632|
000278  0611              LSLS     r1,r2,#24             ;914
00027a  d50b              BPL      |L10.660|
00027c  89e9              LDRH     r1,[r5,#0xe]          ;916  ; MAX_limit
00027e  f501717a          ADD      r1,r1,#0x3e8          ;916
000282  81e9              STRH     r1,[r5,#0xe]          ;916
000284  89e9              LDRH     r1,[r5,#0xe]          ;917  ; MAX_limit
000286  4281              CMP      r1,r0                 ;917
000288  d98c              BLS      |L10.420|
00028a  89e8              LDRH     r0,[r5,#0xe]          ;919  ; MAX_limit
00028c  f5a0707a          SUB      r0,r0,#0x3e8          ;919
000290  81e8              STRH     r0,[r5,#0xe]          ;919
000292  e70d              B        |L10.176|
                  |L10.660|
000294  0799              LSLS     r1,r3,#30             ;922
000296  d50b              BPL      |L10.688|
000298  8a68              LDRH     r0,[r5,#0x12]         ;924  ; Test_Daley
00029a  f500707a          ADD      r0,r0,#0x3e8          ;924
00029e  8268              STRH     r0,[r5,#0x12]         ;924
0002a0  8a68              LDRH     r0,[r5,#0x12]         ;925  ; Test_Daley
0002a2  4540              CMP      r0,r8                 ;925
0002a4  d986              BLS      |L10.436|
0002a6  8a68              LDRH     r0,[r5,#0x12]         ;927  ; Test_Daley
0002a8  f5a0707a          SUB      r0,r0,#0x3e8          ;927
0002ac  8268              STRH     r0,[r5,#0x12]         ;927
0002ae  e6ff              B        |L10.176|
                  |L10.688|
0002b0  07d9              LSLS     r1,r3,#31             ;930
0002b2  d00b              BEQ      |L10.716|
0002b4  8aa9              LDRH     r1,[r5,#0x14]         ;932  ; Test_C_Door
0002b6  f501717a          ADD      r1,r1,#0x3e8          ;932
0002ba  82a9              STRH     r1,[r5,#0x14]         ;932
0002bc  8aa9              LDRH     r1,[r5,#0x14]         ;933  ; Test_C_Door
0002be  4281              CMP      r1,r0                 ;933
0002c0  d98a              BLS      |L10.472|
0002c2  8aa8              LDRH     r0,[r5,#0x14]         ;935  ; Test_C_Door
0002c4  f5a0707a          SUB      r0,r0,#0x3e8          ;935
0002c8  82a8              STRH     r0,[r5,#0x14]         ;935
0002ca  e6f1              B        |L10.176|
                  |L10.716|
0002cc  07b1              LSLS     r1,r6,#30             ;938
0002ce  d510              BPL      |L10.754|
0002d0  f8bc1000          LDRH     r1,[r12,#0]           ;940  ; ADJ_Write
0002d4  f501717a          ADD      r1,r1,#0x3e8          ;940
0002d8  f8ac1000          STRH     r1,[r12,#0]           ;940
0002dc  f8bc1000          LDRH     r1,[r12,#0]           ;941  ; ADJ_Write
0002e0  4281              CMP      r1,r0                 ;941
0002e2  d985              BLS      |L10.496|
0002e4  f8bc0000          LDRH     r0,[r12,#0]           ;943  ; ADJ_Write
0002e8  f5a0707a          SUB      r0,r0,#0x3e8          ;943
0002ec  f8ac0000          STRH     r0,[r12,#0]           ;943
0002f0  e6de              B        |L10.176|
                  |L10.754|
0002f2  88b9              LDRH     r1,[r7,#4]            ;948  ; Run_Control
0002f4  f501717a          ADD      r1,r1,#0x3e8          ;948
0002f8  80b9              STRH     r1,[r7,#4]            ;948
0002fa  88b9              LDRH     r1,[r7,#4]            ;949  ; Run_Control
0002fc  4281              CMP      r1,r0                 ;949
0002fe  d98f              BLS      |L10.544|
000300  88b8              LDRH     r0,[r7,#4]            ;951  ; Run_Control
000302  f5a0707a          SUB      r0,r0,#0x3e8          ;951
000306  80b8              STRH     r0,[r7,#4]            ;951
000308  e6d2              B        |L10.176|
;;;956    /***************************************************************************************/
                          ENDP

00030a  0000              DCW      0x0000
                  |L10.780|
                          DCD      flagC
                  |L10.784|
                          DCD      flagB
                  |L10.788|
                          DCD      Run_Control
                  |L10.792|
                          DCD      flagF
                  |L10.796|
                          DCD      flagD
                  |L10.800|
                          DCD      flagE
                  |L10.804|
                          DCD      ||.data||
                  |L10.808|
                          DCD      ADJ_Write

                          AREA ||i.Setvalue_Reduction||, CODE, READONLY, ALIGN=2

                  Setvalue_Reduction PROC
;;;956    /***************************************************************************************/
;;;957    void Setvalue_Reduction(void)//ÉèÖÃµçÑ¹ºÍµçÁ÷µÝ¼õ
000000  e92d47f0          PUSH     {r4-r10,lr}
;;;958    {
;;;959    	/*********************ÉèÖÃµçÑ¹***********************************************/
;;;960    	if(Flag_GE==1&&Flag_SetV==1)
000004  48ca              LDR      r0,|L11.816|
000006  49cb              LDR      r1,|L11.820|
;;;961    	{
;;;962    		SET_Voltage--;
000008  4fcb              LDR      r7,|L11.824|
00000a  6804              LDR      r4,[r0,#0]            ;960  ; flagC
00000c  6809              LDR      r1,[r1,#0]            ;960
00000e  07e2              LSLS     r2,r4,#31             ;960
;;;963    		if(SET_Voltage>MAX_VOL)
000010  f44f6048          MOV      r0,#0xc80
000014  f04f0c00          MOV      r12,#0
000018  d00a              BEQ      |L11.48|
00001a  064a              LSLS     r2,r1,#25             ;960
00001c  d508              BPL      |L11.48|
00001e  887a              LDRH     r2,[r7,#2]            ;962  ; Run_Control
000020  1e52              SUBS     r2,r2,#1              ;962
000022  807a              STRH     r2,[r7,#2]            ;962
000024  887a              LDRH     r2,[r7,#2]  ; Run_Control
000026  4282              CMP      r2,r0
000028  d92d              BLS      |L11.134|
;;;964    		{
;;;965    			SET_Voltage=0;
00002a  f8a7c002          STRH     r12,[r7,#2]
00002e  e02a              B        |L11.134|
                  |L11.48|
;;;966    		}
;;;967    	}
;;;968    	else if(Flag_SHI==1&&Flag_SetV==1)
000030  07a2              LSLS     r2,r4,#30
000032  d50b              BPL      |L11.76|
000034  064a              LSLS     r2,r1,#25
000036  d509              BPL      |L11.76|
;;;969    	{
;;;970    		SET_Voltage=SET_Voltage-10;
000038  887a              LDRH     r2,[r7,#2]  ; Run_Control
00003a  3a0a              SUBS     r2,r2,#0xa
00003c  807a              STRH     r2,[r7,#2]
;;;971    		if(SET_Voltage>MAX_VOL)
00003e  887a              LDRH     r2,[r7,#2]  ; Run_Control
000040  4282              CMP      r2,r0
000042  d920              BLS      |L11.134|
;;;972    		{
;;;973    			SET_Voltage=SET_Voltage+10;//Èç¹ûÊýÖµ´óÓÚ3000±¾´ÎµÝ¼õÎÞÐ§
000044  8878              LDRH     r0,[r7,#2]  ; Run_Control
000046  300a              ADDS     r0,r0,#0xa
000048  8078              STRH     r0,[r7,#2]
00004a  e01c              B        |L11.134|
                  |L11.76|
;;;974    		}
;;;975    	}
;;;976    	else if(Flag_BAI==1&&Flag_SetV==1)
00004c  0762              LSLS     r2,r4,#29
00004e  d50b              BPL      |L11.104|
000050  064a              LSLS     r2,r1,#25
000052  d509              BPL      |L11.104|
;;;977    	{
;;;978    		SET_Voltage=SET_Voltage-100;
000054  887a              LDRH     r2,[r7,#2]  ; Run_Control
000056  3a64              SUBS     r2,r2,#0x64
000058  807a              STRH     r2,[r7,#2]
;;;979    		if(SET_Voltage>MAX_VOL)
00005a  887a              LDRH     r2,[r7,#2]  ; Run_Control
00005c  4282              CMP      r2,r0
00005e  d912              BLS      |L11.134|
;;;980    		{
;;;981    			SET_Voltage=SET_Voltage+100;//Èç¹ûÊýÖµ´óÓÚ3000±¾´ÎµÝ¼õÎÞÐ§
000060  8878              LDRH     r0,[r7,#2]  ; Run_Control
000062  3064              ADDS     r0,r0,#0x64
000064  8078              STRH     r0,[r7,#2]
000066  e00e              B        |L11.134|
                  |L11.104|
;;;982    		}
;;;983    	}
;;;984    	else if(Flag_QIAN==1&&Flag_SetV==1)
000068  0722              LSLS     r2,r4,#28
00006a  d50c              BPL      |L11.134|
00006c  064a              LSLS     r2,r1,#25
00006e  d50a              BPL      |L11.134|
;;;985    	{
;;;986    		SET_Voltage=SET_Voltage-1000;
000070  887a              LDRH     r2,[r7,#2]  ; Run_Control
000072  f5a2727a          SUB      r2,r2,#0x3e8
000076  807a              STRH     r2,[r7,#2]
;;;987    		if(SET_Voltage>MAX_VOL)
000078  887a              LDRH     r2,[r7,#2]  ; Run_Control
00007a  4282              CMP      r2,r0
00007c  d903              BLS      |L11.134|
;;;988    		{
;;;989    			SET_Voltage=SET_Voltage+1000;//Èç¹ûÊýÖµ´óÓÚ3000±¾´ÎµÝ¼õÎÞÐ§
00007e  8878              LDRH     r0,[r7,#2]  ; Run_Control
000080  f500707a          ADD      r0,r0,#0x3e8
000084  8078              STRH     r0,[r7,#2]
                  |L11.134|
;;;990    		}
;;;991    	}
;;;992    /******************************ÉèÖÃµçÁ÷******************************************/
;;;993    	if(Flag_GE==1&&Flag_SetA==1)
;;;994    	{
;;;995    		if(flag_Test_Min==1)//ÉèÖÃÏÂÏÞÖµ
;;;996    		{
;;;997    			MIN_limit--;
;;;998    			if( MIN_limit>MAX_CUR)
;;;999    			{
;;;1000   				 MIN_limit=0;
;;;1001   			}
;;;1002   		}
;;;1003   		else if(flag_Test_MAX==1)//ÉèÖÃÉÏÏÞÖµ
;;;1004   		{
;;;1005   			MAX_limit--;
;;;1006   			if( MAX_limit>MAX_CUR)
;;;1007   			{
;;;1008   				 MAX_limit=0;
;;;1009   			}
;;;1010   		}
;;;1011   		else if(flag_Test_SetTime==1)//ÉèÖÃ²âÊÔÊ±¼ä
;;;1012   		{
;;;1013   			Test_Daley--;
;;;1014   			if( Test_Daley>9999)
;;;1015   			{
;;;1016   				Test_Daley=0;
;;;1017   			}
;;;1018   		}
;;;1019   		else if(flag_Test_Door==1)//ÉèÖÃÃÅ¼÷µçÁ÷
;;;1020   		{
;;;1021   			Test_C_Door--;
;;;1022   			if(Test_C_Door<10)
;;;1023   			{
;;;1024   				Test_C_Door=10;
;;;1025   			}
;;;1026   		}
;;;1027   		else if(flag_ADJ_ON==1)//½øÈëÐ£×¼Ä£Ê½
000086  4aad              LDR      r2,|L11.828|
000088  4bae              LDR      r3,|L11.836|
00008a  4daf              LDR      r5,|L11.840|
00008c  6816              LDR      r6,[r2,#0]            ;995
00008e  4aac              LDR      r2,|L11.832|
000090  681b              LDR      r3,[r3,#0]            ;1011
;;;1028   		{
;;;1029   			ADJ_Write--;//ÉèÖÃµçÁ÷Öµ
000092  f8df82b8          LDR      r8,|L11.844|
000096  6812              LDR      r2,[r2,#0]            ;995
000098  ea5f7ac4          LSLS     r10,r4,#31            ;993
00009c  f24130ec          MOV      r0,#0x13ec            ;998
0000a0  f242790f          MOV      r9,#0x270f            ;1014
0000a4  d046              BEQ      |L11.308|
0000a6  ea5f6a81          LSLS     r10,r1,#26            ;993
0000aa  d543              BPL      |L11.308|
0000ac  0651              LSLS     r1,r2,#25             ;995
0000ae  d509              BPL      |L11.196|
0000b0  8a29              LDRH     r1,[r5,#0x10]         ;997  ; MIN_limit
0000b2  1e49              SUBS     r1,r1,#1              ;997
0000b4  8229              STRH     r1,[r5,#0x10]         ;997
0000b6  8a29              LDRH     r1,[r5,#0x10]         ;998  ; MIN_limit
0000b8  4281              CMP      r1,r0                 ;998
0000ba  d901              BLS      |L11.192|
0000bc  f8a5c010          STRH     r12,[r5,#0x10]        ;1000
                  |L11.192|
;;;1030   			if(ADJ_Write>MAX_CUR)
;;;1031   			{
;;;1032   				ADJ_Write=0;
;;;1033   			}
;;;1034   		}
;;;1035   		else
;;;1036   		{
;;;1037   			SET_Current--;//ÉèÖÃµçÁ÷Öµ
;;;1038   			if(SET_Current>MAX_CUR)
;;;1039   			{
;;;1040   				SET_Current=0;
;;;1041   			}
;;;1042   		}
;;;1043   		
;;;1044   	}
;;;1045   	else if(Flag_SHI==1&&Flag_SetA==1)
;;;1046   	{
;;;1047   		if(flag_Test_Min==1)//ÉèÖÃÏÂÏÞÖµ
;;;1048   		{
;;;1049   			MIN_limit=MIN_limit-10;
;;;1050   			if( MIN_limit>MAX_CUR)
;;;1051   			{
;;;1052   				 MIN_limit=MIN_limit+10;
;;;1053   			}
;;;1054   		}
;;;1055   		else if(flag_Test_MAX==1)//ÉèÖÃÉÏÏÞÖµ
;;;1056   		{
;;;1057   			MAX_limit=MAX_limit-10;
;;;1058   			if( MAX_limit>MAX_CUR)
;;;1059   			{
;;;1060   				 MAX_limit=MAX_limit+10;
;;;1061   			}
;;;1062   		}
;;;1063   		else if(flag_Test_SetTime==1)//ÉèÖÃ²âÊÔÊ±¼ä
;;;1064   		{
;;;1065   			Test_Daley=Test_Daley-10;
;;;1066   			if( Test_Daley>9999)
;;;1067   			{
;;;1068   				Test_Daley=Test_Daley+10;
;;;1069   			}
;;;1070   		}
;;;1071   		else if(flag_Test_Door==1)//ÉèÖÃÃÅ¼÷µçÁ÷
;;;1072   		{
;;;1073   			Test_C_Door=Test_C_Door-10;
;;;1074   			if(Test_C_Door>MAX_CUR)
;;;1075   			{
;;;1076   				Test_C_Door=Test_C_Door+10;
;;;1077   			}
;;;1078   		}
;;;1079   		else if(flag_ADJ_ON==1)//½øÈëÐ£×¼Ä£Ê½
;;;1080   		{
;;;1081   			ADJ_Write=ADJ_Write-10;
;;;1082   			if(ADJ_Write>MAX_CUR)
;;;1083   			{
;;;1084   				ADJ_Write=ADJ_Write+10;//Èç¹ûÊýÖµ´óÓÚ5000±¾´ÎµÝ¼õÎÞÐ§
;;;1085   			}
;;;1086   		}
;;;1087   		else
;;;1088   		{
;;;1089   			SET_Current=SET_Current-10;
;;;1090   			if(SET_Current>MAX_CUR)
;;;1091   			{
;;;1092   				SET_Current=SET_Current+10;//Èç¹ûÊýÖµ´óÓÚ5000±¾´ÎµÝ¼õÎÞÐ§
;;;1093   			}
;;;1094   		}
;;;1095   	}
;;;1096   	else if(Flag_BAI==1&&Flag_SetA==1)
;;;1097   	{
;;;1098   		if(flag_Test_Min==1)//ÉèÖÃÏÂÏÞÖµ
;;;1099   		{
;;;1100   			MIN_limit=MIN_limit-100;
;;;1101   			if( MIN_limit>MAX_CUR)
;;;1102   			{
;;;1103   				 MIN_limit=MIN_limit+100;
;;;1104   			}
;;;1105   		}
;;;1106   		else if(flag_Test_MAX==1)//ÉèÖÃÉÏÏÞÖµ
;;;1107   		{
;;;1108   			MAX_limit=MAX_limit-100;
;;;1109   			if( MAX_limit>MAX_CUR)
;;;1110   			{
;;;1111   				 MAX_limit=MAX_limit+100;
;;;1112   			}
;;;1113   		}
;;;1114   		else if(flag_Test_SetTime==1)//ÉèÖÃ²âÊÔÊ±¼ä
;;;1115   		{
;;;1116   			Test_Daley=Test_Daley-100;
;;;1117   			if( Test_Daley>9999)
;;;1118   			{
;;;1119   				Test_Daley=Test_Daley+100;
;;;1120   			}
;;;1121   		}
;;;1122   		else if(flag_Test_Door==1)//ÉèÖÃÃÅ¼÷µçÁ÷
;;;1123   		{
;;;1124   			Test_C_Door=Test_C_Door-100;
;;;1125   			if(Test_C_Door>MAX_CUR)
;;;1126   			{
;;;1127   				Test_C_Door=Test_C_Door+100;
;;;1128   			}
;;;1129   		}
;;;1130   		else if(flag_ADJ_ON==1)//½øÈëÐ£×¼Ä£Ê½
;;;1131   		{
;;;1132   			ADJ_Write=ADJ_Write-100;
;;;1133   			if(ADJ_Write>MAX_CUR)
;;;1134   			{
;;;1135   				ADJ_Write=ADJ_Write+100;//Èç¹ûÊýÖµ´óÓÚ5000±¾´ÎµÝ¼õÎÞÐ§
;;;1136   			}
;;;1137   		}
;;;1138   		else
;;;1139   		{
;;;1140   			SET_Current=SET_Current-100;
;;;1141   			if(SET_Current>MAX_CUR)
;;;1142   			{
;;;1143   				SET_Current=SET_Current+100;//Èç¹ûÊýÖµ´óÓÚ5000±¾´ÎµÝ¼õÎÞÐ§
;;;1144   			}
;;;1145   		}
;;;1146   	}
;;;1147   	else if(Flag_QIAN==1&&Flag_SetA==1)
;;;1148   	{
;;;1149   		if(flag_Test_Min==1)//ÉèÖÃÏÂÏÞÖµ
;;;1150   		{
;;;1151   			MIN_limit=MIN_limit-1000;
;;;1152   			if( MIN_limit>MAX_CUR)
;;;1153   			{
;;;1154   				 MIN_limit=MIN_limit+1000;
;;;1155   			}
;;;1156   		}
;;;1157   		else if(flag_Test_MAX==1)//ÉèÖÃÉÏÏÞÖµ
;;;1158   		{
;;;1159   			MAX_limit=MAX_limit-1000;
;;;1160   			if( MAX_limit>MAX_CUR)
;;;1161   			{
;;;1162   				 MAX_limit=MAX_limit+1000;
;;;1163   			}
;;;1164   		}
;;;1165   		else if(flag_Test_SetTime==1)//ÉèÖÃ²âÊÔÊ±¼ä
;;;1166   		{
;;;1167   			Test_Daley=Test_Daley-1000;
;;;1168   			if( Test_Daley>9999)
;;;1169   			{
;;;1170   				Test_Daley=Test_Daley+1000;
;;;1171   			}
;;;1172   		}
;;;1173   		else if(flag_Test_Door==1)//ÉèÖÃÃÅ¼÷µçÁ÷
;;;1174   		{
;;;1175   			Test_C_Door=Test_C_Door-1000;
;;;1176   			if(Test_C_Door>MAX_CUR)
;;;1177   			{
;;;1178   				Test_C_Door=Test_C_Door+1000;
;;;1179   			}
;;;1180   		}
;;;1181   		else if(flag_ADJ_ON==1)//½øÈëÐ£×¼Ä£Ê½
;;;1182   		{
;;;1183   			ADJ_Write=ADJ_Write-1000;
;;;1184   			if(ADJ_Write>MAX_CUR)
;;;1185   			{
;;;1186   				ADJ_Write=ADJ_Write+1000;//Èç¹ûÊýÖµ´óÓÚ5000±¾´ÎµÝ¼õÎÞÐ§
;;;1187   			}
;;;1188   		}
;;;1189   		else
;;;1190   		{
;;;1191   			SET_Current=SET_Current-1000;
;;;1192   			if(SET_Current>MAX_CUR)
;;;1193   			{
;;;1194   				SET_Current=SET_Current+1000;//Èç¹ûÊýÖµ´óÓÚ5000±¾´ÎµÝ¼õÎÞÐ§
;;;1195   			}
;;;1196   		}
;;;1197   	}
;;;1198   }
0000c0  e8bd87f0          POP      {r4-r10,pc}
                  |L11.196|
0000c4  0611              LSLS     r1,r2,#24             ;1003
0000c6  d508              BPL      |L11.218|
0000c8  89e9              LDRH     r1,[r5,#0xe]          ;1005  ; MAX_limit
0000ca  1e49              SUBS     r1,r1,#1              ;1005
0000cc  81e9              STRH     r1,[r5,#0xe]          ;1005
0000ce  89e9              LDRH     r1,[r5,#0xe]          ;1006  ; MAX_limit
0000d0  4281              CMP      r1,r0                 ;1006
0000d2  d9f5              BLS      |L11.192|
0000d4  f8a5c00e          STRH     r12,[r5,#0xe]         ;1008
                  |L11.216|
0000d8  e7f2              B        |L11.192|
                  |L11.218|
0000da  0799              LSLS     r1,r3,#30             ;1011
0000dc  d508              BPL      |L11.240|
0000de  8a68              LDRH     r0,[r5,#0x12]         ;1013  ; Test_Daley
0000e0  1e40              SUBS     r0,r0,#1              ;1013
0000e2  8268              STRH     r0,[r5,#0x12]         ;1013
0000e4  8a68              LDRH     r0,[r5,#0x12]         ;1014  ; Test_Daley
0000e6  4548              CMP      r0,r9                 ;1014
0000e8  d9ea              BLS      |L11.192|
0000ea  f8a5c012          STRH     r12,[r5,#0x12]        ;1016
0000ee  e7e7              B        |L11.192|
                  |L11.240|
0000f0  07d9              LSLS     r1,r3,#31             ;1019
0000f2  d008              BEQ      |L11.262|
0000f4  8aa8              LDRH     r0,[r5,#0x14]         ;1021  ; Test_C_Door
0000f6  1e40              SUBS     r0,r0,#1              ;1021
0000f8  82a8              STRH     r0,[r5,#0x14]         ;1021
0000fa  8aa8              LDRH     r0,[r5,#0x14]         ;1022  ; Test_C_Door
0000fc  280a              CMP      r0,#0xa               ;1022
0000fe  d2df              BCS      |L11.192|
000100  200a              MOVS     r0,#0xa               ;1024
000102  82a8              STRH     r0,[r5,#0x14]         ;1024
                  |L11.260|
000104  e7dc              B        |L11.192|
                  |L11.262|
000106  07b1              LSLS     r1,r6,#30             ;1027
000108  d50b              BPL      |L11.290|
00010a  f8b81000          LDRH     r1,[r8,#0]            ;1029  ; ADJ_Write
00010e  1e49              SUBS     r1,r1,#1              ;1029
000110  f8a81000          STRH     r1,[r8,#0]            ;1029
000114  f8b81000          LDRH     r1,[r8,#0]            ;1030  ; ADJ_Write
000118  4281              CMP      r1,r0                 ;1030
00011a  d9d1              BLS      |L11.192|
00011c  f8a8c000          STRH     r12,[r8,#0]           ;1032
                  |L11.288|
000120  e7ce              B        |L11.192|
                  |L11.290|
000122  88b9              LDRH     r1,[r7,#4]            ;1037  ; Run_Control
000124  1e49              SUBS     r1,r1,#1              ;1037
000126  80b9              STRH     r1,[r7,#4]            ;1037
000128  88b9              LDRH     r1,[r7,#4]            ;1038  ; Run_Control
00012a  4281              CMP      r1,r0                 ;1038
00012c  d9c8              BLS      |L11.192|
00012e  f8a7c004          STRH     r12,[r7,#4]           ;1040
                  |L11.306|
000132  e7c5              B        |L11.192|
                  |L11.308|
000134  ea5f7c84          LSLS     r12,r4,#30            ;1045
000138  d54d              BPL      |L11.470|
00013a  ea5f6c81          LSLS     r12,r1,#26            ;1045
00013e  d54a              BPL      |L11.470|
000140  0651              LSLS     r1,r2,#25             ;1047
000142  d509              BPL      |L11.344|
000144  8a29              LDRH     r1,[r5,#0x10]         ;1049  ; MIN_limit
000146  390a              SUBS     r1,r1,#0xa            ;1049
000148  8229              STRH     r1,[r5,#0x10]         ;1049
00014a  8a29              LDRH     r1,[r5,#0x10]         ;1050  ; MIN_limit
00014c  4281              CMP      r1,r0                 ;1050
00014e  d9b7              BLS      |L11.192|
000150  8a28              LDRH     r0,[r5,#0x10]         ;1052  ; MIN_limit
000152  300a              ADDS     r0,r0,#0xa            ;1052
000154  8228              STRH     r0,[r5,#0x10]         ;1052
                  |L11.342|
000156  e7b3              B        |L11.192|
                  |L11.344|
000158  0611              LSLS     r1,r2,#24             ;1055
00015a  d509              BPL      |L11.368|
00015c  89e9              LDRH     r1,[r5,#0xe]          ;1057  ; MAX_limit
00015e  390a              SUBS     r1,r1,#0xa            ;1057
000160  81e9              STRH     r1,[r5,#0xe]          ;1057
000162  89e9              LDRH     r1,[r5,#0xe]          ;1058  ; MAX_limit
000164  4281              CMP      r1,r0                 ;1058
000166  d9ab              BLS      |L11.192|
000168  89e8              LDRH     r0,[r5,#0xe]          ;1060  ; MAX_limit
00016a  300a              ADDS     r0,r0,#0xa            ;1060
00016c  81e8              STRH     r0,[r5,#0xe]          ;1060
                  |L11.366|
00016e  e7a7              B        |L11.192|
                  |L11.368|
000170  0799              LSLS     r1,r3,#30             ;1063
000172  d509              BPL      |L11.392|
000174  8a68              LDRH     r0,[r5,#0x12]         ;1065  ; Test_Daley
000176  380a              SUBS     r0,r0,#0xa            ;1065
000178  8268              STRH     r0,[r5,#0x12]         ;1065
00017a  8a68              LDRH     r0,[r5,#0x12]         ;1066  ; Test_Daley
00017c  4548              CMP      r0,r9                 ;1066
00017e  d99f              BLS      |L11.192|
000180  8a68              LDRH     r0,[r5,#0x12]         ;1068  ; Test_Daley
000182  300a              ADDS     r0,r0,#0xa            ;1068
000184  8268              STRH     r0,[r5,#0x12]         ;1068
                  |L11.390|
000186  e79b              B        |L11.192|
                  |L11.392|
000188  07d9              LSLS     r1,r3,#31             ;1071
00018a  d009              BEQ      |L11.416|
00018c  8aa9              LDRH     r1,[r5,#0x14]         ;1073  ; Test_C_Door
00018e  390a              SUBS     r1,r1,#0xa            ;1073
000190  82a9              STRH     r1,[r5,#0x14]         ;1073
000192  8aa9              LDRH     r1,[r5,#0x14]         ;1074  ; Test_C_Door
000194  4281              CMP      r1,r0                 ;1074
000196  d993              BLS      |L11.192|
000198  8aa8              LDRH     r0,[r5,#0x14]         ;1076  ; Test_C_Door
00019a  300a              ADDS     r0,r0,#0xa            ;1076
00019c  82a8              STRH     r0,[r5,#0x14]         ;1076
                  |L11.414|
00019e  e78f              B        |L11.192|
                  |L11.416|
0001a0  07b1              LSLS     r1,r6,#30             ;1079
0001a2  d50e              BPL      |L11.450|
0001a4  f8b81000          LDRH     r1,[r8,#0]            ;1081  ; ADJ_Write
0001a8  390a              SUBS     r1,r1,#0xa            ;1081
0001aa  f8a81000          STRH     r1,[r8,#0]            ;1081
0001ae  f8b81000          LDRH     r1,[r8,#0]            ;1082  ; ADJ_Write
0001b2  4281              CMP      r1,r0                 ;1082
0001b4  d984              BLS      |L11.192|
0001b6  f8b80000          LDRH     r0,[r8,#0]            ;1084  ; ADJ_Write
0001ba  300a              ADDS     r0,r0,#0xa            ;1084
0001bc  f8a80000          STRH     r0,[r8,#0]            ;1084
                  |L11.448|
0001c0  e77e              B        |L11.192|
                  |L11.450|
0001c2  88b9              LDRH     r1,[r7,#4]            ;1089  ; Run_Control
0001c4  390a              SUBS     r1,r1,#0xa            ;1089
0001c6  80b9              STRH     r1,[r7,#4]            ;1089
0001c8  88b9              LDRH     r1,[r7,#4]            ;1090  ; Run_Control
0001ca  4281              CMP      r1,r0                 ;1090
0001cc  d984              BLS      |L11.216|
0001ce  88b8              LDRH     r0,[r7,#4]            ;1092  ; Run_Control
0001d0  300a              ADDS     r0,r0,#0xa            ;1092
0001d2  80b8              STRH     r0,[r7,#4]            ;1092
                  |L11.468|
0001d4  e774              B        |L11.192|
                  |L11.470|
0001d6  ea5f7c44          LSLS     r12,r4,#29            ;1096
0001da  d54d              BPL      |L11.632|
0001dc  ea5f6c81          LSLS     r12,r1,#26            ;1096
0001e0  d54a              BPL      |L11.632|
0001e2  0651              LSLS     r1,r2,#25             ;1098
0001e4  d509              BPL      |L11.506|
0001e6  8a29              LDRH     r1,[r5,#0x10]         ;1100  ; MIN_limit
0001e8  3964              SUBS     r1,r1,#0x64           ;1100
0001ea  8229              STRH     r1,[r5,#0x10]         ;1100
0001ec  8a29              LDRH     r1,[r5,#0x10]         ;1101  ; MIN_limit
0001ee  4281              CMP      r1,r0                 ;1101
0001f0  d988              BLS      |L11.260|
0001f2  8a28              LDRH     r0,[r5,#0x10]         ;1103  ; MIN_limit
0001f4  3064              ADDS     r0,r0,#0x64           ;1103
0001f6  8228              STRH     r0,[r5,#0x10]         ;1103
                  |L11.504|
0001f8  e762              B        |L11.192|
                  |L11.506|
0001fa  0611              LSLS     r1,r2,#24             ;1106
0001fc  d509              BPL      |L11.530|
0001fe  89e9              LDRH     r1,[r5,#0xe]          ;1108  ; MAX_limit
000200  3964              SUBS     r1,r1,#0x64           ;1108
000202  81e9              STRH     r1,[r5,#0xe]          ;1108
000204  89e9              LDRH     r1,[r5,#0xe]          ;1109  ; MAX_limit
000206  4281              CMP      r1,r0                 ;1109
000208  d98a              BLS      |L11.288|
00020a  89e8              LDRH     r0,[r5,#0xe]          ;1111  ; MAX_limit
00020c  3064              ADDS     r0,r0,#0x64           ;1111
00020e  81e8              STRH     r0,[r5,#0xe]          ;1111
000210  e756              B        |L11.192|
                  |L11.530|
000212  0799              LSLS     r1,r3,#30             ;1114
000214  d509              BPL      |L11.554|
000216  8a68              LDRH     r0,[r5,#0x12]         ;1116  ; Test_Daley
000218  3864              SUBS     r0,r0,#0x64           ;1116
00021a  8268              STRH     r0,[r5,#0x12]         ;1116
00021c  8a68              LDRH     r0,[r5,#0x12]         ;1117  ; Test_Daley
00021e  4548              CMP      r0,r9                 ;1117
000220  d987              BLS      |L11.306|
000222  8a68              LDRH     r0,[r5,#0x12]         ;1119  ; Test_Daley
000224  3064              ADDS     r0,r0,#0x64           ;1119
000226  8268              STRH     r0,[r5,#0x12]         ;1119
                  |L11.552|
000228  e74a              B        |L11.192|
                  |L11.554|
00022a  07d9              LSLS     r1,r3,#31             ;1122
00022c  d009              BEQ      |L11.578|
00022e  8aa9              LDRH     r1,[r5,#0x14]         ;1124  ; Test_C_Door
000230  3964              SUBS     r1,r1,#0x64           ;1124
000232  82a9              STRH     r1,[r5,#0x14]         ;1124
000234  8aa9              LDRH     r1,[r5,#0x14]         ;1125  ; Test_C_Door
000236  4281              CMP      r1,r0                 ;1125
000238  d98d              BLS      |L11.342|
00023a  8aa8              LDRH     r0,[r5,#0x14]         ;1127  ; Test_C_Door
00023c  3064              ADDS     r0,r0,#0x64           ;1127
00023e  82a8              STRH     r0,[r5,#0x14]         ;1127
                  |L11.576|
000240  e73e              B        |L11.192|
                  |L11.578|
000242  07b1              LSLS     r1,r6,#30             ;1130
000244  d50e              BPL      |L11.612|
000246  f8b81000          LDRH     r1,[r8,#0]            ;1132  ; ADJ_Write
00024a  3964              SUBS     r1,r1,#0x64           ;1132
00024c  f8a81000          STRH     r1,[r8,#0]            ;1132
000250  f8b81000          LDRH     r1,[r8,#0]            ;1133  ; ADJ_Write
000254  4281              CMP      r1,r0                 ;1133
000256  d98a              BLS      |L11.366|
000258  f8b80000          LDRH     r0,[r8,#0]            ;1135  ; ADJ_Write
00025c  3064              ADDS     r0,r0,#0x64           ;1135
00025e  f8a80000          STRH     r0,[r8,#0]            ;1135
000262  e72d              B        |L11.192|
                  |L11.612|
000264  88b9              LDRH     r1,[r7,#4]            ;1140  ; Run_Control
000266  3964              SUBS     r1,r1,#0x64           ;1140
000268  80b9              STRH     r1,[r7,#4]            ;1140
00026a  88b9              LDRH     r1,[r7,#4]            ;1141  ; Run_Control
00026c  4281              CMP      r1,r0                 ;1141
00026e  d98a              BLS      |L11.390|
000270  88b8              LDRH     r0,[r7,#4]            ;1143  ; Run_Control
000272  3064              ADDS     r0,r0,#0x64           ;1143
000274  80b8              STRH     r0,[r7,#4]            ;1143
000276  e723              B        |L11.192|
                  |L11.632|
000278  0724              LSLS     r4,r4,#28             ;1147
00027a  d584              BPL      |L11.390|
00027c  0689              LSLS     r1,r1,#26             ;1147
00027e  d58e              BPL      |L11.414|
000280  0651              LSLS     r1,r2,#25             ;1149
000282  d50b              BPL      |L11.668|
000284  8a29              LDRH     r1,[r5,#0x10]         ;1151  ; MIN_limit
000286  f5a1717a          SUB      r1,r1,#0x3e8          ;1151
00028a  8229              STRH     r1,[r5,#0x10]         ;1151
00028c  8a29              LDRH     r1,[r5,#0x10]         ;1152  ; MIN_limit
00028e  4281              CMP      r1,r0                 ;1152
000290  d985              BLS      |L11.414|
000292  8a28              LDRH     r0,[r5,#0x10]         ;1154  ; MIN_limit
000294  f500707a          ADD      r0,r0,#0x3e8          ;1154
000298  8228              STRH     r0,[r5,#0x10]         ;1154
00029a  e711              B        |L11.192|
                  |L11.668|
00029c  0611              LSLS     r1,r2,#24             ;1157
00029e  d50b              BPL      |L11.696|
0002a0  89e9              LDRH     r1,[r5,#0xe]          ;1159  ; MAX_limit
0002a2  f5a1717a          SUB      r1,r1,#0x3e8          ;1159
0002a6  81e9              STRH     r1,[r5,#0xe]          ;1159
0002a8  89e9              LDRH     r1,[r5,#0xe]          ;1160  ; MAX_limit
0002aa  4281              CMP      r1,r0                 ;1160
0002ac  d988              BLS      |L11.448|
0002ae  89e8              LDRH     r0,[r5,#0xe]          ;1162  ; MAX_limit
0002b0  f500707a          ADD      r0,r0,#0x3e8          ;1162
0002b4  81e8              STRH     r0,[r5,#0xe]          ;1162
0002b6  e703              B        |L11.192|
                  |L11.696|
0002b8  0799              LSLS     r1,r3,#30             ;1165
0002ba  d50b              BPL      |L11.724|
0002bc  8a68              LDRH     r0,[r5,#0x12]         ;1167  ; Test_Daley
0002be  f5a0707a          SUB      r0,r0,#0x3e8          ;1167
0002c2  8268              STRH     r0,[r5,#0x12]         ;1167
0002c4  8a68              LDRH     r0,[r5,#0x12]         ;1168  ; Test_Daley
0002c6  4548              CMP      r0,r9                 ;1168
0002c8  d984              BLS      |L11.468|
0002ca  8a68              LDRH     r0,[r5,#0x12]         ;1170  ; Test_Daley
0002cc  f500707a          ADD      r0,r0,#0x3e8          ;1170
0002d0  8268              STRH     r0,[r5,#0x12]         ;1170
0002d2  e6f5              B        |L11.192|
                  |L11.724|
0002d4  07d9              LSLS     r1,r3,#31             ;1173
0002d6  d00b              BEQ      |L11.752|
0002d8  8aa9              LDRH     r1,[r5,#0x14]         ;1175  ; Test_C_Door
0002da  f5a1717a          SUB      r1,r1,#0x3e8          ;1175
0002de  82a9              STRH     r1,[r5,#0x14]         ;1175
0002e0  8aa9              LDRH     r1,[r5,#0x14]         ;1176  ; Test_C_Door
0002e2  4281              CMP      r1,r0                 ;1176
0002e4  d988              BLS      |L11.504|
0002e6  8aa8              LDRH     r0,[r5,#0x14]         ;1178  ; Test_C_Door
0002e8  f500707a          ADD      r0,r0,#0x3e8          ;1178
0002ec  82a8              STRH     r0,[r5,#0x14]         ;1178
0002ee  e6e7              B        |L11.192|
                  |L11.752|
0002f0  07b1              LSLS     r1,r6,#30             ;1181
0002f2  d510              BPL      |L11.790|
0002f4  f8b81000          LDRH     r1,[r8,#0]            ;1183  ; ADJ_Write
0002f8  f5a1717a          SUB      r1,r1,#0x3e8          ;1183
0002fc  f8a81000          STRH     r1,[r8,#0]            ;1183
000300  f8b81000          LDRH     r1,[r8,#0]            ;1184  ; ADJ_Write
000304  4281              CMP      r1,r0                 ;1184
000306  d98f              BLS      |L11.552|
000308  f8b80000          LDRH     r0,[r8,#0]            ;1186  ; ADJ_Write
00030c  f500707a          ADD      r0,r0,#0x3e8          ;1186
000310  f8a80000          STRH     r0,[r8,#0]            ;1186
000314  e6d4              B        |L11.192|
                  |L11.790|
000316  88b9              LDRH     r1,[r7,#4]            ;1191  ; Run_Control
000318  f5a1717a          SUB      r1,r1,#0x3e8          ;1191
00031c  80b9              STRH     r1,[r7,#4]            ;1191
00031e  88b9              LDRH     r1,[r7,#4]            ;1192  ; Run_Control
000320  4281              CMP      r1,r0                 ;1192
000322  d98d              BLS      |L11.576|
000324  88b8              LDRH     r0,[r7,#4]            ;1194  ; Run_Control
000326  f500707a          ADD      r0,r0,#0x3e8          ;1194
00032a  80b8              STRH     r0,[r7,#4]            ;1194
00032c  e6c8              B        |L11.192|
;;;1199   /********************************************************************************/
                          ENDP

00032e  0000              DCW      0x0000
                  |L11.816|
                          DCD      flagC
                  |L11.820|
                          DCD      flagB
                  |L11.824|
                          DCD      Run_Control
                  |L11.828|
                          DCD      flagF
                  |L11.832|
                          DCD      flagD
                  |L11.836|
                          DCD      flagE
                  |L11.840|
                          DCD      ||.data||
                  |L11.844|
                          DCD      ADJ_Write

                          AREA ||.bss||, DATA, NOINIT, ALIGN=0

                  ReadBuffer
                          %        1024

                          AREA ||area_number.14||, DATA, NOINIT, ALIGN=2

                          EXPORTAS ||area_number.14||, ||.bss||
                  ||fs||
                          %        560
                  file
                          %        552
                  filedatabuf
                          %        2048

                          AREA ||.data||, DATA, ALIGN=2

                  Jumpflag
000000  00                DCB      0x00
                  KeyState
000001  00                DCB      0x00
                  IsKeyRelease
000002  01                DCB      0x01
                  KeyValueTemp
000003  00                DCB      0x00
                  signal
000004  00                DCB      0x00
                  result
000005  00                DCB      0x00
                  NewKey
000006  00                DCB      0x00
                  t_wei
000007  00                DCB      0x00
                  t_onoff
000008  0000              DCB      0x00,0x00
                  Stm32_Flash_Size
00000a  0000              DCB      0x00,0x00
                  KeyCounter
00000c  0000              DCB      0x00,0x00
                  MAX_limit
00000e  0000              DCB      0x00,0x00
                  MIN_limit
000010  0000              DCB      0x00,0x00
                  Test_Daley
000012  0000              DCB      0x00,0x00
                  Test_C_Door
000014  00000000          DCB      0x00,0x00,0x00,0x00
                  fsize
                          DCD      0x00000000
                  readcount
                          DCD      0x00000000

                          AREA ||area_number.17||, DATA, ALIGN=2

                          EXPORTAS ||area_number.17||, ||.data||
                  fnum
                          DCD      0x00000000

                          AREA ||area_number.18||, DATA, ALIGN=0

                          EXPORTAS ||area_number.18||, ||.data||
                  Flag_SETVGE
000000  00                DCB      0x00

                          AREA ||area_number.19||, DATA, ALIGN=0

                          EXPORTAS ||area_number.19||, ||.data||
                  Flag_SETVSHI
000000  00                DCB      0x00

                          AREA ||area_number.20||, DATA, ALIGN=0

                          EXPORTAS ||area_number.20||, ||.data||
                  Flag_SETVBAI
000000  00                DCB      0x00

                          AREA ||area_number.21||, DATA, ALIGN=0

                          EXPORTAS ||area_number.21||, ||.data||
                  Flag_SETVQIAN
000000  00                DCB      0x00

                          AREA ||area_number.22||, DATA, ALIGN=0

                          EXPORTAS ||area_number.22||, ||.data||
                  Flag_SETAGE
000000  00                DCB      0x00

                          AREA ||area_number.23||, DATA, ALIGN=0

                          EXPORTAS ||area_number.23||, ||.data||
                  Flag_SETASHI
000000  00                DCB      0x00

                          AREA ||area_number.24||, DATA, ALIGN=0

                          EXPORTAS ||area_number.24||, ||.data||
                  Flag_SETABAI
000000  00                DCB      0x00

                          AREA ||area_number.25||, DATA, ALIGN=0

                          EXPORTAS ||area_number.25||, ||.data||
                  Flag_SETAQIAN
000000  00                DCB      0x00

                          AREA ||area_number.26||, DATA, ALIGN=0

                          EXPORTAS ||area_number.26||, ||.data||
                  t_KeyScan
000000  00                DCB      0x00

                          AREA ||area_number.27||, DATA, ALIGN=0

                          EXPORTAS ||area_number.27||, ||.data||
                  t_beep
000000  00                DCB      0x00

                          AREA ||area_number.28||, DATA, ALIGN=0

                          EXPORTAS ||area_number.28||, ||.data||
                  t_Str
000000  00                DCB      0x00

                          AREA ||area_number.29||, DATA, ALIGN=0

                          EXPORTAS ||area_number.29||, ||.data||
                  t_lock
000000  00                DCB      0x00

                          AREA ||area_number.30||, DATA, ALIGN=0

                          EXPORTAS ||area_number.30||, ||.data||
                  t_doub
000000  00                DCB      0x00

                          AREA ||area_number.31||, DATA, ALIGN=0

                          EXPORTAS ||area_number.31||, ||.data||
                  t_key_step
000000  00                DCB      0x00

                          AREA ||area_number.32||, DATA, ALIGN=1

                          EXPORTAS ||area_number.32||, ||.data||
                  Key1
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.33||, DATA, ALIGN=1

                          EXPORTAS ||area_number.33||, ||.data||
                  Key2
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.34||, DATA, ALIGN=1

                          EXPORTAS ||area_number.34||, ||.data||
                  Key3
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.35||, DATA, ALIGN=1

                          EXPORTAS ||area_number.35||, ||.data||
                  Key4
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.36||, DATA, ALIGN=1

                          EXPORTAS ||area_number.36||, ||.data||
                  Key5
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.37||, DATA, ALIGN=1

                          EXPORTAS ||area_number.37||, ||.data||
                  Key6
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.38||, DATA, ALIGN=1

                          EXPORTAS ||area_number.38||, ||.data||
                  Key7
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.39||, DATA, ALIGN=1

                          EXPORTAS ||area_number.39||, ||.data||
                  Key8
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.40||, DATA, ALIGN=2

                          EXPORTAS ||area_number.40||, ||.data||
                  Key9
                          DCD      0x00000000

                          AREA ||area_number.41||, DATA, ALIGN=1

                          EXPORTAS ||area_number.41||, ||.data||
                  Test_Time
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.42||, DATA, ALIGN=1

                          EXPORTAS ||area_number.42||, ||.data||
                  Test_Time1
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.43||, DATA, ALIGN=1

                          EXPORTAS ||area_number.43||, ||.data||
                  Time_sw
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.44||, DATA, ALIGN=0

                          EXPORTAS ||area_number.44||, ||.data||
                  OFFSET_Zore
000000  00                DCB      0x00

;*** Start embedded assembler ***

#line 1 "..\\drive\\key.c"
	AREA ||.rev16_text||, CODE
	THUMB
	EXPORT |__asm___5_key_c_Jumpflag____REV16|
#line 129 "D:\\Keil_v5\\ARM\\CMSIS\\Include\\core_cmInstr.h"
|__asm___5_key_c_Jumpflag____REV16| PROC
#line 130

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.revsh_text||, CODE
	THUMB
	EXPORT |__asm___5_key_c_Jumpflag____REVSH|
#line 144
|__asm___5_key_c_Jumpflag____REVSH| PROC
#line 145

 revsh r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
